(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},pl={};var M_;function Rb(){if(M_)return pl;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var V_;function Cb(){return V_||(V_=1,Id.exports=Rb()),Id.exports}var N=Cb(),xd={exports:{}},At={};var k_;function Ib(){if(k_)return At;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function H(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,tt={};function mt(x,Q,J){this.props=x,this.context=Q,this.refs=tt,this.updater=J||et}mt.prototype.isReactComponent={},mt.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},mt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Tt(){}Tt.prototype=mt.prototype;function _t(x,Q,J){this.props=x,this.context=Q,this.refs=tt,this.updater=J||et}var qt=_t.prototype=new Tt;qt.constructor=_t,st(qt,mt.prototype),qt.isPureReactComponent=!0;var zt=Array.isArray;function kt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(x,Q,J){var it=J.ref;return{$$typeof:r,type:x,key:Q,ref:it!==void 0?it:null,props:J}}function V(x,Q){return C(x.type,Q,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function U(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return Q[J]})}var w=/\/+/g;function te(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):Q.toString(36)}function oe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(kt,kt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,Q,J,it,ut){var W=typeof x;(W==="undefined"||W==="boolean")&&(x=null);var pt=!1;if(x===null)pt=!0;else switch(W){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(x.$$typeof){case r:case t:pt=!0;break;case T:return pt=x._init,G(pt(x._payload),Q,J,it,ut)}}if(pt)return ut=ut(x),pt=it===""?"."+te(x,0):it,zt(ut)?(J="",pt!=null&&(J=pt.replace(w,"$&/")+"/"),G(ut,Q,J,"",function(We){return We})):ut!=null&&(D(ut)&&(ut=V(ut,J+(ut.key==null||x&&x.key===ut.key?"":(""+ut.key).replace(w,"$&/")+"/")+pt)),Q.push(ut)),1;pt=0;var Xt=it===""?".":it+":";if(zt(x))for(var Lt=0;Lt<x.length;Lt++)it=x[Lt],W=Xt+te(it,Lt),pt+=G(it,Q,J,W,ut);else if(Lt=H(x),typeof Lt=="function")for(x=Lt.call(x),Lt=0;!(it=x.next()).done;)it=it.value,W=Xt+te(it,Lt++),pt+=G(it,Q,J,W,ut);else if(W==="object"){if(typeof x.then=="function")return G(oe(x),Q,J,it,ut);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return pt}function rt(x,Q,J){if(x==null)return x;var it=[],ut=0;return G(x,it,"","",function(W){return Q.call(J,W,ut++)}),it}function $(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var at=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ot={map:rt,forEach:function(x,Q,J){rt(x,function(){Q.apply(this,arguments)},J)},count:function(x){var Q=0;return rt(x,function(){Q++}),Q},toArray:function(x){return rt(x,function(Q){return Q})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=A,At.Children=ot,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=_t,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,Q,J){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=st({},x.props),ut=x.key;if(Q!=null)for(W in Q.key!==void 0&&(ut=""+Q.key),Q)!S.call(Q,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&Q.ref===void 0||(it[W]=Q[W]);var W=arguments.length-2;if(W===1)it.children=J;else if(1<W){for(var pt=Array(W),Xt=0;Xt<W;Xt++)pt[Xt]=arguments[Xt+2];it.children=pt}return C(x.type,ut,it)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,Q,J){var it,ut={},W=null;if(Q!=null)for(it in Q.key!==void 0&&(W=""+Q.key),Q)S.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ut[it]=Q[it]);var pt=arguments.length-2;if(pt===1)ut.children=J;else if(1<pt){for(var Xt=Array(pt),Lt=0;Lt<pt;Lt++)Xt[Lt]=arguments[Lt+2];ut.children=Xt}if(x&&x.defaultProps)for(it in pt=x.defaultProps,pt)ut[it]===void 0&&(ut[it]=pt[it]);return C(x,W,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:p,render:x}},At.isValidElement=D,At.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:$}},At.memo=function(x,Q){return{$$typeof:y,type:x,compare:Q===void 0?null:Q}},At.startTransition=function(x){var Q=I.T,J={};I.T=J;try{var it=x(),ut=I.S;ut!==null&&ut(J,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(kt,at)}catch(W){at(W)}finally{Q!==null&&J.types!==null&&(Q.types=J.types),I.T=Q}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(x){return I.H.use(x)},At.useActionState=function(x,Q,J){return I.H.useActionState(x,Q,J)},At.useCallback=function(x,Q){return I.H.useCallback(x,Q)},At.useContext=function(x){return I.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,Q){return I.H.useDeferredValue(x,Q)},At.useEffect=function(x,Q){return I.H.useEffect(x,Q)},At.useEffectEvent=function(x){return I.H.useEffectEvent(x)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(x,Q,J){return I.H.useImperativeHandle(x,Q,J)},At.useInsertionEffect=function(x,Q){return I.H.useInsertionEffect(x,Q)},At.useLayoutEffect=function(x,Q){return I.H.useLayoutEffect(x,Q)},At.useMemo=function(x,Q){return I.H.useMemo(x,Q)},At.useOptimistic=function(x,Q){return I.H.useOptimistic(x,Q)},At.useReducer=function(x,Q,J){return I.H.useReducer(x,Q,J)},At.useRef=function(x){return I.H.useRef(x)},At.useState=function(x){return I.H.useState(x)},At.useSyncExternalStore=function(x,Q,J){return I.H.useSyncExternalStore(x,Q,J)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.3",At}var U_;function Am(){return U_||(U_=1,xd.exports=Ib()),xd.exports}var fe=Am(),Nd={exports:{}},yl={},Dd={exports:{}},Od={};var L_;function xb(){return L_||(L_=1,(function(r){function t(G,rt){var $=G.length;G.push(rt);t:for(;0<$;){var at=$-1>>>1,ot=G[at];if(0<l(ot,rt))G[at]=rt,G[$]=ot,$=at;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],$=G.pop();if($!==rt){G[0]=$;t:for(var at=0,ot=G.length,x=ot>>>1;at<x;){var Q=2*(at+1)-1,J=G[Q],it=Q+1,ut=G[it];if(0>l(J,$))it<ot&&0>l(ut,J)?(G[at]=ut,G[it]=$,at=it):(G[at]=J,G[Q]=$,at=Q);else if(it<ot&&0>l(ut,$))G[at]=ut,G[it]=$,at=it;else break t}}return rt}function l(G,rt){var $=G.sortIndex-rt.sortIndex;return $!==0?$:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,A=null,M=3,H=!1,et=!1,st=!1,tt=!1,mt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function qt(G){for(var rt=i(y);rt!==null;){if(rt.callback===null)a(y);else if(rt.startTime<=G)a(y),rt.sortIndex=rt.expirationTime,t(_,rt);else break;rt=i(y)}}function zt(G){if(st=!1,qt(G),!et)if(i(_)!==null)et=!0,kt||(kt=!0,U());else{var rt=i(y);rt!==null&&oe(zt,rt.startTime-G)}}var kt=!1,I=-1,S=5,C=-1;function V(){return tt?!0:!(r.unstable_now()-C<S)}function D(){if(tt=!1,kt){var G=r.unstable_now();C=G;var rt=!0;try{t:{et=!1,st&&(st=!1,Tt(I),I=-1),H=!0;var $=M;try{e:{for(qt(G),A=i(_);A!==null&&!(A.expirationTime>G&&V());){var at=A.callback;if(typeof at=="function"){A.callback=null,M=A.priorityLevel;var ot=at(A.expirationTime<=G);if(G=r.unstable_now(),typeof ot=="function"){A.callback=ot,qt(G),rt=!0;break e}A===i(_)&&a(_),qt(G)}else a(_);A=i(_)}if(A!==null)rt=!0;else{var x=i(y);x!==null&&oe(zt,x.startTime-G),rt=!1}}break t}finally{A=null,M=$,H=!1}rt=void 0}}finally{rt?U():kt=!1}}}var U;if(typeof _t=="function")U=function(){_t(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=D,U=function(){te.postMessage(null)}}else U=function(){mt(D,0)};function oe(G,rt){I=mt(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var $=M;M=rt;try{return G()}finally{M=$}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=M;M=G;try{return rt()}finally{M=$}},r.unstable_scheduleCallback=function(G,rt,$){var at=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?at+$:at):$=at,G){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=$+ot,G={id:T++,callback:rt,priorityLevel:G,startTime:$,expirationTime:ot,sortIndex:-1},$>at?(G.sortIndex=$,t(y,G),i(_)===null&&G===i(y)&&(st?(Tt(I),I=-1):st=!0,oe(zt,$-at))):(G.sortIndex=ot,t(_,G),et||H||(et=!0,kt||(kt=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var rt=M;return function(){var $=M;M=rt;try{return G.apply(this,arguments)}finally{M=$}}}})(Od)),Od}var P_;function Nb(){return P_||(P_=1,Dd.exports=xb()),Dd.exports}var Md={exports:{}},Ye={};var z_;function Db(){if(z_)return Ye;z_=1;var r=Am();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Ye.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:H}):T==="script"&&a.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var j_;function Ob(){if(j_)return Md.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Db(),Md.exports}var B_;function Mb(){if(B_)return yl;B_=1;var r=Nb(),t=Am(),i=Ob();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case tt:return"StrictMode";case zt:return"Suspense";case kt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case _t:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var oe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},at=[],ot=-1;function x(e){return{current:e}}function Q(e){0>ot||(e.current=at[ot],at[ot]=null,ot--)}function J(e,n){ot++,at[ot]=e.current,e.current=n}var it=x(null),ut=x(null),W=x(null),pt=x(null);function Xt(e,n){switch(J(W,n),J(ut,e),J(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(it),J(it,e)}function Lt(){Q(it),Q(ut),Q(W)}function We(e){e.memoizedState!==null&&J(pt,e);var n=it.current,s=i_(n,e.type);n!==s&&(J(ut,e),J(it,s))}function us(e){ut.current===e&&(Q(it),Q(ut)),pt.current===e&&(Q(pt),fl._currentValue=$)}var Zr,Jr;function ni(e){if(Zr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",Jr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Jr}var ho=!1;function cr(e,n){if(!e||ho)return"";ho=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ni(s):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return cr(e.type,!1);case 11:return cr(e.type.render,!1);case 1:return cr(e.type,!0);case 31:return ni("Activity");default:return""}}function mo(e){try{var n="",s=null;do n+=fo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,cs=r.unstable_cancelCallback,xh=r.unstable_shouldYield,$l=r.unstable_requestPaint,tn=r.unstable_now,hr=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,hs=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,Wl=r.unstable_setDisableYieldValue,zn=null,Pe=null;function Sn(e){if(typeof Jl=="function"&&Wl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zn,e)}catch{}}var de=Math.clz32?Math.clz32:eu,tu=Math.log,Wr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Wr|0)|0}var ii=256,fr=262144,ve=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(g&=E,g!==0?h=si(g):s||(s=E&~e,s!==0&&(h=si(s))))):(E=o&~f,E!==0?h=si(E):g!==0?h=si(g):s||(s=o&~e,s!==0&&(h=si(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ai(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-de(s),Y=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&mr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function mr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function yo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function _o(e,n){var s=n&-n;return s=(s&42)!==0?1:gr(s),(s&(e.suspendedLanes|n))!==0?0:s}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Bn(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,Ve="__reactProps$"+qn,oi="__reactContainer$"+qn,ta="__reactEvents$"+qn,Mh="__reactListeners$"+qn,su="__reactHandles$"+qn,ru="__reactResources$"+qn,li="__reactMarker$"+qn;function ea(e){delete e[Ee],delete e[Ve],delete e[ta],delete e[Mh],delete e[su]}function ui(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[oi]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=c_(e);e!==null;){if(s=e[Ee])return s;e=c_(e)}return n}e=s,s=e.parentNode}return null}function wn(e){if(e=e[Ee]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var vo=new Set,Eo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ao={};function au(e){return _e.call(Ao,e)?!0:_e.call(bo,e)?!1:To.test(e)?Ao[e]=!0:(bo[e]=!0,!1)}function na(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=fs(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function pr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=fs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function rn(e){return e.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,ke(n)):s!=null?wo(e,g,ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function wo(e,n,s){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ds(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function ms(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(oe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Co(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return gs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Io=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,mi=null;function _r(e){var n=wn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&pr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ds(e,!!s.multiple,n,!1)}}}var aa=!1;function ys(e,n,s){if(aa)return e(n,s);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(ps!==null||mi!==null)&&(ic(),ps&&(n=ps,e=mi,mi=ps=null,_r(n),e)))for(n=0;n<e.length;n++)_r(e[n])}}function Gn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Cn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){vr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{vr=!1}var gi=null,xo=null,Er=null;function No(){if(Er)return Er;var e,n=xo,s=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Er=h.slice(e,1<o?1-o:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Fn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=ze(Ui),_s=A({},Ui,{view:0,detail:0}),Do=ze(_s),vs,oa,yi,la=A({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(vs=e.screenX-yi.screenX,oa=e.screenY-yi.screenY):oa=vs=0,yi=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Oo=ze(la),br=A({},la,{dataTransfer:0}),hu=ze(br),fu=A({},_s,{relatedTarget:0}),Ar=ze(fu),Mo=A({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),du=ze(Mo),ua=A({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=ze(ua),gu=A({},Ui,{data:0}),_i=ze(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Es(){return vu}var en=A({},_s,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=ze(en),Tu=A({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=ze(Tu),u=A({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),m=ze(u),v=A({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=ze(v),L=A({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),nt=A({},Ui,{newState:0,oldState:0}),wt=ze(nt),me=[9,13,27,32],Ht=Cn&&"CompositionEvent"in window,re=null;Cn&&"documentMode"in document&&(re=document.documentMode);var In=Cn&&"TextEvent"in window&&!re,vi=Cn&&(!Ht||re&&8<re&&11>=re),Qn=" ",Kn=!1;function Sr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function $T(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function ZT(e,n){if(ha)return e==="compositionend"||!Ht&&Sr(e,n)?(e=No(),Er=xo=gi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function mg(e,n,s,o){ps?mi?mi.push(o):mi=[o]:ps=o,n=cc(n,"onChange"),0<n.length&&(s=new pi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,ko=null;function WT(e){$y(e,0)}function bu(e){var n=mn(e);if(pr(n))return e}function gg(e,n){if(e==="change")return n}var pg=!1;if(Cn){var Vh;if(Cn){var kh="oninput"in document;if(!kh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),kh=typeof yg.oninput=="function"}Vh=kh}else Vh=!1;pg=Vh&&(!document.documentMode||9<document.documentMode)}function _g(){Vo&&(Vo.detachEvent("onpropertychange",vg),ko=Vo=null)}function vg(e){if(e.propertyName==="value"&&bu(ko)){var n=[];mg(n,ko,e,Rn(e)),ys(WT,n)}}function t1(e,n,s){e==="focusin"?(_g(),Vo=n,ko=s,Vo.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function e1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(ko)}function n1(e,n){if(e==="click")return bu(n)}function i1(e,n){if(e==="input"||e==="change")return bu(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:s1;function Uo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,n){var s=Eg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Eg(s)}}function bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=di(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var r1=Cn&&"documentMode"in document&&11>=document.documentMode,fa=null,Lh=null,Lo=null,Ph=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||fa==null||fa!==di(o)||(o=fa,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Uo(Lo,o)||(Lo=o,o=cc(Lh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=fa)))}function wr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},zh={},wg={};Cn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Rr(e){if(zh[e])return zh[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return zh[e]=n[s];return e}var Rg=Rr("animationend"),Cg=Rr("animationiteration"),Ig=Rr("animationstart"),a1=Rr("transitionrun"),o1=Rr("transitionstart"),l1=Rr("transitioncancel"),xg=Rr("transitionend"),Ng=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Yn(e,n){Ng.set(e,n),hi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ma=0,Bh=0;function Su(){for(var e=ma,n=Bh=ma=0;n<e;){var s=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Dg(s,h,f)}}function wu(e,n,s,o){xn[ma++]=e,xn[ma++]=n,xn[ma++]=s,xn[ma++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function Cr(e,n){return wu(e,null,null,n),Ru(e)}function Dg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<rl)throw rl=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function u1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,s,o){return new u1(e,n,s,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var s=e.alternate;return s===null?(s=yn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=mb(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=yn(31,s,n,h),e.elementType=C,e.lanes=f,e;case st:return Ir(s.children,h,f,n);case tt:g=8,h|=24;break;case mt:return e=yn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case zt:return e=yn(13,s,n,h),e.elementType=zt,e.lanes=f,e;case kt:return e=yn(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case Tt:g=9;break t;case qt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=yn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ir(e,n,s,o){return e=yn(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=yn(6,e,null,n),e.lanes=s,e}function Mg(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Vg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:mo(n)},Vg.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var pa=[],ya=0,Iu=null,Po=0,Dn=[],On=0,Ts=null,Ei=1,Ti="";function zi(e,n){pa[ya++]=Po,pa[ya++]=Iu,Iu=e,Po=n}function kg(e,n,s){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=Ts,Ts=e;var o=Ei;e=Ti;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ei=1<<32-de(n)+h|s<<h|o,Ti=f+e}else Ei=1<<f|s<<h|o,Ti=e}function Qh(e){e.return!==null&&(zi(e,1),kg(e,1,0))}function Kh(e){for(;e===Iu;)Iu=pa[--ya],pa[ya]=null,Po=pa[--ya],pa[ya]=null;for(;e===Ts;)Ts=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null,Ei=Dn[--On],Dn[On]=null}function Ug(e,n){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=Ts,Ei=n.id,Ti=n.overflow,Ts=e}var je=null,ne=null,Ut=!1,bs=null,Mn=!1,Yh=Error(a(519));function As(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Nn(n,e)),Yh}function Lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<ol.length;s++)xt(ol[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),ms(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||t_(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||As(e,!0)}function Pg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function _a(e){if(e!==je)return!1;if(!Ut)return Pg(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&ne&&As(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=u_(e)}else n===27?(n=ne,Ls(e.type)?(e=_d,_d=null,ne=e):ne=n):ne=je?kn(e.stateNode.nextSibling):null;return!0}function xr(){ne=je=null,Ut=!1}function Xh(){var e=bs;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),bs=null),e}function zo(e){bs===null?bs=[e]:bs.push(e)}var $h=x(null),Nr=null,ji=null;function Ss(e,n,s){J($h,n._currentValue),n._currentValue=s}function Bi(e){e._currentValue=$h.current,Q($h)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===pt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Nr=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return zg(Nr,e)}function Nu(e,n){return Nr===null&&Dr(e),zg(e,n)}function zg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return s}var c1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},h1=r.unstable_scheduleCallback,f1=r.unstable_NormalPriority,Ae={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new c1,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&h1(f1,function(){e.controller.abort()})}var Bo=null,tf=0,Ea=0,Ta=null;function d1(e,n){if(Bo===null){var s=Bo=[];tf=0,Ea=sd(),Ta={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(jg,jg),n}function jg(){if(--tf===0&&Bo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Bo;Bo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bg=G.S;G.S=function(e,n){Sy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&d1(e,n),Bg!==null&&Bg(e,n)};var Or=x(null);function ef(){var e=Or.current;return e!==null?e:ee.pooledCache}function Du(e,n){n===null?J(Or,Or.current):J(Or,n.pool)}function qg(){var e=ef();return e===null?null:{parent:Ae._currentValue,pool:e}}var ba=Error(a(460)),nf=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e}throw Vr=n,ba}}function Mr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,ba):s}}var Vr=null;function Fg(){if(Vr===null)throw Error(a(459));var e=Vr;return Vr=null,e}function Qg(e){if(e===ba||e===Ou)throw Error(a(483))}var Aa=null,qo=0;function Vu(e){var n=qo;return qo+=1,Aa===null&&(Aa=[]),Gg(Aa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kg(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Pi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,K){return O===null||O.tag!==6?(O=Gh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function R(k,O,P,K){var dt=P.type;return dt===st?F(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Mr(dt)===O.type)?(O=h(O,P.props),Ho(O,P),O.return=k,O):(O=Cu(P.type,P.key,P.props,null,k.mode,K),Ho(O,P),O.return=k,O)}function z(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Fh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function F(k,O,P,K,dt){return O===null||O.tag!==7?(O=Ir(P,k.mode,K,dt),O.return=k,O):(O=h(O,P),O.return=k,O)}function Y(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return P=Cu(O.type,O.key,O.props,null,k.mode,P),Ho(P,O),P.return=k,P;case et:return O=Fh(O,k.mode,P),O.return=k,O;case S:return O=Mr(O),Y(k,O,P)}if(oe(O)||U(O))return O=Ir(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Vu(O),P);if(O.$$typeof===_t)return Y(k,Nu(k,O),P);ku(k,O)}return null}function j(k,O,P,K){var dt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===dt?R(k,O,P,K):null;case et:return P.key===dt?z(k,O,P,K):null;case S:return P=Mr(P),j(k,O,P,K)}if(oe(P)||U(P))return dt!==null?null:F(k,O,P,K,null);if(typeof P.then=="function")return j(k,O,Vu(P),K);if(P.$$typeof===_t)return j(k,O,Nu(k,P),K);ku(k,P)}return null}function q(k,O,P,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(O,k,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?P:K.key)||null,R(O,k,K,dt);case et:return k=k.get(K.key===null?P:K.key)||null,z(O,k,K,dt);case S:return K=Mr(K),q(k,O,P,K,dt)}if(oe(K)||U(K))return k=k.get(P)||null,F(O,k,K,dt,null);if(typeof K.then=="function")return q(k,O,P,Vu(K),dt);if(K.$$typeof===_t)return q(k,O,P,Nu(O,K),dt);ku(O,K)}return null}function ct(k,O,P,K){for(var dt=null,jt=null,ht=O,Ct=O=0,Dt=null;ht!==null&&Ct<P.length;Ct++){ht.index>Ct?(Dt=ht,ht=null):Dt=ht.sibling;var Bt=j(k,ht,P[Ct],K);if(Bt===null){ht===null&&(ht=Dt);break}e&&ht&&Bt.alternate===null&&n(k,ht),O=f(Bt,O,Ct),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt,ht=Dt}if(Ct===P.length)return s(k,ht),Ut&&zi(k,Ct),dt;if(ht===null){for(;Ct<P.length;Ct++)ht=Y(k,P[Ct],K),ht!==null&&(O=f(ht,O,Ct),jt===null?dt=ht:jt.sibling=ht,jt=ht);return Ut&&zi(k,Ct),dt}for(ht=o(ht);Ct<P.length;Ct++)Dt=q(ht,k,Ct,P[Ct],K),Dt!==null&&(e&&Dt.alternate!==null&&ht.delete(Dt.key===null?Ct:Dt.key),O=f(Dt,O,Ct),jt===null?dt=Dt:jt.sibling=Dt,jt=Dt);return e&&ht.forEach(function(qs){return n(k,qs)}),Ut&&zi(k,Ct),dt}function yt(k,O,P,K){if(P==null)throw Error(a(151));for(var dt=null,jt=null,ht=O,Ct=O=0,Dt=null,Bt=P.next();ht!==null&&!Bt.done;Ct++,Bt=P.next()){ht.index>Ct?(Dt=ht,ht=null):Dt=ht.sibling;var qs=j(k,ht,Bt.value,K);if(qs===null){ht===null&&(ht=Dt);break}e&&ht&&qs.alternate===null&&n(k,ht),O=f(qs,O,Ct),jt===null?dt=qs:jt.sibling=qs,jt=qs,ht=Dt}if(Bt.done)return s(k,ht),Ut&&zi(k,Ct),dt;if(ht===null){for(;!Bt.done;Ct++,Bt=P.next())Bt=Y(k,Bt.value,K),Bt!==null&&(O=f(Bt,O,Ct),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt);return Ut&&zi(k,Ct),dt}for(ht=o(ht);!Bt.done;Ct++,Bt=P.next())Bt=q(ht,k,Ct,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?Ct:Bt.key),O=f(Bt,O,Ct),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt);return e&&ht.forEach(function(wb){return n(k,wb)}),Ut&&zi(k,Ct),dt}function Wt(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var dt=P.key;O!==null;){if(O.key===dt){if(dt=P.type,dt===st){if(O.tag===7){s(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Mr(dt)===O.type){s(k,O.sibling),K=h(O,P.props),Ho(K,P),K.return=k,k=K;break t}s(k,O);break}else n(k,O);O=O.sibling}P.type===st?(K=Ir(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Cu(P.type,P.key,P.props,null,k.mode,K),Ho(K,P),K.return=k,k=K)}return g(k);case et:t:{for(dt=P.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break t}else{s(k,O);break}else n(k,O);O=O.sibling}K=Fh(P,k.mode,K),K.return=k,k=K}return g(k);case S:return P=Mr(P),Wt(k,O,P,K)}if(oe(P))return ct(k,O,P,K);if(U(P)){if(dt=U(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),yt(k,O,P,K)}if(typeof P.then=="function")return Wt(k,O,Vu(P),K);if(P.$$typeof===_t)return Wt(k,O,Nu(k,P),K);ku(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,P),K.return=k,k=K):(s(k,O),K=Gh(P,k.mode,K),K.return=k,k=K),g(k)):s(k,O)}return function(k,O,P,K){try{qo=0;var dt=Wt(k,O,P,K);return Aa=null,dt}catch(ht){if(ht===ba||ht===Ou)throw ht;var jt=yn(29,ht,null,k.mode);return jt.lanes=K,jt.return=k,jt}finally{}}}var kr=Kg(!0),Yg=Kg(!1),ws=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Dg(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Fo(){if(of){var e=Ta;if(e!==null)throw e}}function Qo(e,n,s,o){of=!1;var h=e.updateQueue;ws=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Nt&j)===j:(o&j)===j){j!==0&&j===Ea&&(of=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,yt=E;j=n;var Wt=s;switch(yt.tag){case 1:if(ct=yt.payload,typeof ct=="function"){Y=ct.call(Wt,Y,j);break t}Y=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=yt.payload,j=typeof ct=="function"?ct.call(Wt,Y,j):ct,j==null)break t;Y=A({},Y,j);break t;case 2:ws=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Os|=g,e.lanes=g,e.memoizedState=Y}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xg(s[e],n)}var Sa=x(null),Uu=x(0);function Zg(e,n){e=$i,J(Uu,e),J(Sa,n),$i=e|n.baseLanes}function lf(){J(Uu,$i),J(Sa,Sa.current)}function uf(){$i=Uu.current,Q(Sa),Q(Uu)}var _n=x(null),Vn=null;function Is(e){var n=e.alternate;J(ge,ge.current&1),J(_n,e),Vn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Vn=e)}function cf(e){J(ge,ge.current),J(_n,e),Vn===null&&(Vn=e)}function Jg(e){e.tag===22?(J(ge,ge.current),J(_n,e),Vn===null&&(Vn=e)):xs()}function xs(){J(ge,ge.current),J(_n,_n.current)}function vn(e){Q(_n),Vn===e&&(Vn=null),Q(ge)}var ge=x(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,Rt=null,Zt=null,Se=null,Pu=!1,wa=!1,Ur=!1,zu=0,Ko=0,Ra=null,g1=0;function ce(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return qi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?kp:Cf,Ur=!1,f=s(o,h),Ur=!1,wa&&(f=tp(n,s,o,h)),Wg(e),f}function Wg(e){G.H=$o;var n=Zt!==null&&Zt.next!==null;if(qi=0,Se=Zt=Rt=null,Pu=!1,Ko=0,Ra=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&xu(e)&&(we=!0))}function tp(e,n,s,o){Rt=e;var h=0;do{if(wa&&(Ra=null),Ko=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Se=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Up,f=n(s,o)}while(wa);return f}function p1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function df(){var e=zu!==0;return zu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}qi=0,Se=Zt=Rt=null,wa=!1,Ko=zu=0,Ra=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Rt.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Zt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Se===null?Rt.memoizedState:Se.next;if(n!==null)Se=n,Zt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?Rt.memoizedState=Se=e:Se=Se.next=e}return Se}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,Ra===null&&(Ra=[]),e=Gg(Ra,e,n),n=Rt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?kp:Cf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===_t)return Be(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Hi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=pe();return yf(n,Zt,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Nt&Y)===Y:(qi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ea&&(F=!0);else if((qi&j)===j){z=z.next,j===Ea&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Rt.lanes|=j,Os|=j;Y=z.action,Ur&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Rt.lanes|=Y,Os|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!pn(f,e.memoizedState)&&(we=!0,F&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ep(e,n,s){var o=Rt,h=pe(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!pn((Zt||h).memoizedState,s);if(g&&(h.memoizedState=s,we=!0),h=h.queue,Tf(sp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},ip.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(qi&127)!==0||np(o,n,s)}return s}function np(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=ju(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ip(e,n,s,o){n.value=s,n.getSnapshot=o,rp(n)&&ap(e)}function sp(e,n,s){return s(function(){rp(n)&&ap(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function ap(e){var n=Cr(e,2);n!==null&&hn(n,e,2)}function vf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Ur){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function op(e,n,s,o){return e.baseState=s,yf(e,Zt,typeof o=="function"?o:Hi)}function y1(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,lp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),R=G.S;R!==null&&R(g,E),up(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),up(e,n,f)}catch(z){Ef(e,n,z)}}function up(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){cp(e,n,o)},function(o){return Ef(e,n,o)}):cp(e,n,s)}function cp(e,n,s){n.status="fulfilled",n.value=s,hp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,lp(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==o)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function dp(e,n){if(Ut){var s=ee.formState;if(s!==null){t:{var o=Rt;if(Ut){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=kn(h.nextSibling),o=h.data==="F!";break t}}As(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=o,s=Op.bind(null,Rt,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=y1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function mp(e){var n=pe();return gp(n,Zt,e)}function gp(e,n,s){if(n=yf(e,n,fp)[0],e=qu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===ba?Ou:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Ca(9,{destroy:void 0},_1.bind(null,h,s),null)),[o,f,e]}function _1(e,n){e.action=n}function pp(e){var n=pe(),s=Zt;if(s!==null)return gp(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ca(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ju(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function yp(){return pe().memoizedState}function Hu(e,n,s,o){var h=nn();Rt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&hf(o,Zt.memoizedState.deps)?h.memoizedState=Ca(n,f,s,o):(Rt.flags|=e,h.memoizedState=Ca(1|n,f,s,o))}function _p(e,n){Hu(8390656,8,e,n)}function Tf(e,n){Gu(2048,8,e,n)}function v1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ju(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function vp(e){var n=pe().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(e,n){return Gu(4,2,e,n)}function Tp(e,n){return Gu(4,4,e,n)}function bp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,bp.bind(null,n,e),s)}function bf(){}function Sp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function wp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Ur){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function Af(e,n,s){return s===void 0||(qi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ry(),Rt.lanes|=e,Os|=e,s)}function Rp(e,n,s,o){return pn(s,n)?s:Sa.current!==null?(e=Af(e,s,o),pn(e,n)||(we=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=s):(e=Ry(),Rt.lanes|=e,Os|=e,n)}function Cp(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rf(e,!1,n,s);try{var R=h(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=m1(R,o);Xo(e,n,F,bn(e))}else Xo(e,n,o,bn(e))}catch(Y){Xo(e,n,{then:function(){},status:"rejected",reason:Y},bn())}finally{rt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function E1(){}function Sf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ip(e).queue;Cp(e,h,n,$,s===null?E1:function(){return xp(e),s(o)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:$},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xp(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},bn())}function wf(){return Be(fl)}function Np(){return pe().memoizedState}function Dp(){return pe().memoizedState}function T1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=Rs(s);var o=Cs(n,e,s);o!==null&&(hn(o,n,s),Go(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function b1(e,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Mp(n,s):(s=qh(e,n,s,o),s!==null&&(hn(s,e,o),Vp(s,n,o)))}function Op(e,n,s){var o=bn();Xo(e,n,s,o)}function Xo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return wu(e,n,h,0),ee===null&&Su(),!1}catch{}finally{}if(s=qh(e,n,h,o),s!==null)return hn(s,e,o),Vp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&hn(n,e,2)}function Fu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Mp(e,n){wa=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Vp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}var $o={readContext:Be,use:Bu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};$o.useEffectEvent=ce;var kp={readContext:Be,use:Bu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:_p,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,bp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(Ur){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Ur){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Op.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=nn();return Af(s,e,n)},useTransition:function(){var e=vf(!1);return e=Cp.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=nn();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Nt&127)!==0||np(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(sp.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},ip.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Ut){var s=Ti,o=Ei;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=g1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:dp,useActionState:dp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return nn().memoizedState=T1.bind(null,Rt)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Be,use:Bu,useCallback:Sp,useContext:Be,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:qu,useRef:yp,useState:function(){return qu(Hi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=pe();return Rp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=qu(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=pe();return op(s,Zt,e,n)},useMemoCache:pf,useCacheRefresh:Dp};Cf.useEffectEvent=vp;var Up={readContext:Be,use:Bu,useCallback:Sp,useContext:Be,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:_f,useRef:yp,useState:function(){return _f(Hi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=pe();return Zt===null?Af(s,e,n):Rp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=_f(Hi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:wf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=pe();return Zt!==null?op(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Dp};Up.useEffectEvent=vp;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=bn(),h=Rs(o);h.payload=n,s!=null&&(h.callback=s),n=Cs(e,h,o),n!==null&&(hn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=bn(),h=Rs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Cs(e,h,o),n!==null&&(hn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),o=Rs(s);o.tag=2,n!=null&&(o.callback=n),n=Cs(e,o,s),n!==null&&(hn(n,e,s),Go(n,e,s))}};function Lp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(s,o)||!Uo(h,f):!0}function Pp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function zp(e){Au(e)}function jp(e){console.error(e)}function Bp(e){Au(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Rs(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Hp(e){return e=Rs(e),e.tag=3,e}function Gp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function A1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?sc():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),sc(),!1}if(Ut)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),zo(Nn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),zo(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=Nf(e.stateNode,o,h),af(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),sl===null?sl=[f]:sl.push(f),he!==4&&(he=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Gp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),we=!1;function qe(e,n,s,o){n.child=e===null?Yg(n,null,s,o):kr(n,e.child,s,o)}function Fp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Dr(n),o=ff(e,n,s,g,f,h),E=df(),e!==null&&!we?(mf(e,n,h),Gi(e,n,h)):(Ut&&E&&Qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Qp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Kp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(g,o)&&e.ref===n.ref)return Gi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Gi(e,n,h)}return Of(e,n,s,o,h)}function Yp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):lf(),Jg(n);else return o=n.lanes=536870912,Xp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Zg(n,f),xs(),n.memoizedState=null):(e!==null&&Du(n,null),lf(),xs());return qe(e,n,h,s),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),lf(),Jg(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,s){return kr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function S1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Zo(null,e);if(cf(n),(e=ne)?(e=l_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=Mg(e),s.return=n,n.child=s,je=n,ne=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||va(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=ee,o!==null&&(g=_o(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Cr(e,g),hn(o,e,g),Df;sc(),n=$p(e,n,s)}else e=f.treeContext,ne=kn(g.nextSibling),je=n,Ut=!0,bs=null,Mn=!1,e!==null&&Ug(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return Dr(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!we?(mf(e,n,h),Gi(e,n,h)):(Ut&&o&&Qh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Zp(e,n,s,o,h,f){return Dr(n),n.updateQueue=null,s=tp(n,o,s,h),Wg(e),o=df(),e!==null&&!we?(mf(e,n,f),Gi(e,n,f)):(Ut&&o&&Qh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Jp(e,n,s,o,h){if(Dr(n),n.stateNode===null){var f=ga,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ga,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Lr(s,E);f.props=R;var z=f.context,F=s.contextType;g=ga,typeof F=="object"&&F!==null&&(g=Be(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Pp(n,f,o,g),ws=!1;var j=n.memoizedState;f.state=j,Qo(n,o,f,h),Fo(),z=n.memoizedState,E||j!==z||ws?(typeof Y=="function"&&(If(n,s,Y,o),z=n.memoizedState),(R=ws||Lp(n,s,R,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,F=Lr(s,g),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,R=ga,typeof z=="object"&&z!==null&&(R=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Pp(n,f,o,R),ws=!1,j=n.memoizedState,f.state=j,Qo(n,o,f,h),Fo();var q=n.memoizedState;g!==Y||j!==q||ws||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,o),q=n.memoizedState),(F=ws||Lp(n,s,F,o,j,q,R)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=kr(n,e.child,null,h),n.child=kr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Gi(e,n,h),e}function Wp(e,n,s,o){return xr(),n.flags|=256,qe(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:qg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Tn),e}function ty(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Is(n):xs(),(e=ne)?(e=l_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=Mg(e),s.return=n,n.child=s,je=n,ne=null)):e=null,e===null)throw As(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(xs(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Ir(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,Zo(null,o)):(Is(n),Uf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Is(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Ir(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,kr(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,n=Zo(null,o));else if(Is(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(we||va(e,n,s,!1),g=(s&e.childLanes)!==0,we||g){if(g=ee,g!==null&&(o=_o(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Cr(e,o),hn(g,e,o),Df;pd(E)||sc(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=kn(E.nextSibling),je=n,Ut=!0,bs=null,Mn=!1,e!==null&&Ug(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(xs(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Pi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Pi(z,E):(E=Ir(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,s),n.memoizedState=Mf,Zo(e.child,o)):(Is(n),s=e.child,e=s.sibling,s=Pi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return kr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ny(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(ge,g),qe(e,n,o,s),o=Ut?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,s,n);else if(e.tag===19)ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Gi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Os|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Pi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function w1(e,n,s){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Ss(n,Ae,e.memoizedState.cache),xr();break;case 27:case 5:We(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Is(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(e,n,s):(Is(n),e=Gi(e,n,s),e!==null?e.sibling:null);Is(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(va(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ny(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(ge,ge.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,s,n.pendingProps);case 24:Ss(n,Ae,e.memoizedState.cache)}return Gi(e,n,s)}function iy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return we=!1,w1(e,n,s);we=(e.flags&131072)!==0}else we=!1,Ut&&(n.flags&1048576)!==0&&kg(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Mr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Lr(e,o),n.tag=1,n=Jp(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Fp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Qp(null,n,e,o,s);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Lr(o,n.pendingProps),Jp(e,n,o,h,s);case 3:t:{if(Xt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Qo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ss(n,Ae,o),o!==f.cache&&Jh(n,[Ae],s,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),zo(h),n=Wp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=kn(e.firstChild),je=n,Ut=!0,bs=null,Mn=!0,s=Yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xr(),o===h){n=Gi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=hc(W.current).createElement(s),o[Ee]=n,o[Ve]=e,He(o,s,e),Te(o),n.stateNode=o):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return We(n),e===null&&Ut&&(o=n.stateNode=h_(n.type,n.pendingProps,W.current),je=n,Mn=!0,h=ne,Ls(n.type)?(_d=h,ne=kn(o.firstChild)):ne=h),qe(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=eb(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,je=n,ne=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||As(n)),We(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,p1,null,null,s),fl._currentValue=h),Yu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=ne)&&(s=nb(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,je=n,ne=null,e=!0):e=!1),e||As(n)),null;case 13:return ty(e,n,s);case 4:return Xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=kr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Fp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ss(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Qp(e,n,n.type,n.pendingProps,s);case 15:return Kp(e,n,n.type,n.pendingProps,s);case 19:return ny(e,n,s);case 31:return S1(e,n,s);case 22:return Yp(e,n,s,n.pendingProps);case 24:return Dr(n),o=Be(Ae),e===null?(h=ef(),h===null&&(h=ee,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},sf(n),Ss(n,Ae,h)):((e.lanes&s)!==0&&(rf(e,n),Qo(n,null,null,s),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ss(n,Ae,o)):(o=f.cache,Ss(n,Ae,o),o!==h.cache&&Jh(n,[Ae],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw Vr=Mu,nf}else e.flags&=-16777217}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Ny())e.flags|=8192;else throw Vr=Mu,nf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Da|=n)}function Jo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function R1(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(Ae),Lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(ie(n),sy(n,f)):(ie(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(Fi(n),ie(n),sy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),ie(n),jf(n,h,e,o,s)),null;case 27:if(us(n),s=W.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=it.current,_a(n)?Lg(n):(e=h_(h,o,s),n.stateNode=e,Fi(n))}return ie(n),null;case 5:if(us(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=it.current,_a(n))Lg(n);else{var g=hc(W.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return ie(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=W.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||t_(e.nodeValue,s)),e||As(n,!0)}else e=hc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),ie(n),null);case 4:return Lt(),e===null&&ld(n.stateNode.containerInfo),ie(n),null;case 10:return Bi(n.type),ie(n),null;case 19:if(Q(ge),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return J(ge,ge.current&1|2),Ut&&zi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>ec&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*tn()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=ge.current,J(ge,h?s&1|2:s&1),Ut&&zi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return vn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function C1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(Ae),Lt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return us(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(ge),null;case 4:return Lt(),null;case 10:return Bi(n.type),null;case 22:case 23:return vn(n),uf(),e!==null&&Q(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(Ae),null;case 25:return null;default:return null}}function ry(e,n){switch(Kh(n),n.tag){case 3:Bi(Ae),Lt();break;case 26:case 27:case 5:us(n);break;case 4:Lt();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Q(ge);break;case 10:Bi(n.type);break;case 22:case 23:vn(n),uf(),e!==null&&Q(Or);break;case 24:Bi(Ae)}}function Wo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function Ns(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(F){Yt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(n,n.return,F)}}function ay(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{$g(n,s)}catch(o){Yt(e,e.return,o)}}}function oy(e,n,s){s.props=Lr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function tl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function bi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function ly(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;X1(o,e.type,s,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Ls(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ls(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[Ee]=e,n[Ve]=s}catch(f){Yt(e,e.return,f)}}var Qi=!1,Re=!1,Gf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function I1(e,n){if(e=e.containerInfo,hd=_c,e=Ag(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},_c=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ct=Lr(s.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Yt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function fy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(e,s),o&4&&Wo(5,s);break;case 1:if(Yi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var h=Lr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}o&64&&ay(s),o&512&&tl(s,s.return);break;case 3:if(Yi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&o&4&&cy(s);case 26:case 5:Yi(e,s),n===null&&o&4&&ly(s),o&512&&tl(s,s.return);break;case 12:Yi(e,s);break;case 31:Yi(e,s),o&4&&gy(e,s);break;case 13:Yi(e,s),o&4&&py(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=L1.bind(null,s),ib(e,s))));break;case 22:if(o=s.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Qi;var f=Re;Qi=o,(Re=n)&&!f?Xi(e,s,(s.subtreeFlags&8772)!==0):Yi(e,s),Qi=h,Re=f}break;case 30:break;default:Yi(e,s)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,on=!1;function Ki(e,n,s){for(s=s.child;s!==null;)my(e,n,s),s=s.sibling}function my(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:Re||bi(s,n),Ki(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||bi(s,n);var o=ae,h=on;Ls(s.type)&&(ae=s.stateNode,on=!1),Ki(e,n,s),ul(s.stateNode),ae=o,on=h;break;case 5:Re||bi(s,n);case 6:if(o=ae,h=on,ae=null,Ki(e,n,s),ae=o,on=h,ae!==null)if(on)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:ae!==null&&(on?(e=ae,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):a_(ae,s.stateNode));break;case 4:o=ae,h=on,ae=s.stateNode.containerInfo,on=!0,Ki(e,n,s),ae=o,on=h;break;case 0:case 11:case 14:case 15:Ns(2,s,n),Re||Ns(4,s,n),Ki(e,n,s);break;case 1:Re||(bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&oy(s,n,o)),Ki(e,n,s);break;case 21:Ki(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Ki(e,n,s),Re=o;break;default:Ki(e,n,s)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){Yt(n,n.return,s)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){Yt(n,n.return,s)}}function x1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=x1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=P1.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){ae=E.stateNode,on=!1;break t}break;case 5:ae=E.stateNode,on=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ae===null)throw Error(a(160));my(f,g,h),ae=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var Xn=null;function yy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Ns(3,e,e.return),Wo(3,e),Ns(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Re||s===null||bi(s,s.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Xn;if(ln(n,e),un(e),o&512&&(Re||s===null||bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var g=y_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=y_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=p_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?__(h,e.type,e.stateNode):p_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Re||s===null||bi(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Re||s===null||bi(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ct){Yt(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(mc=null,h=Xn,Xn=fc(n.containerInfo),ln(n,e),Xn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(ct){Yt(e,e.return,ct)}Gf&&(Gf=!1,_y(e));break;case 4:o=Xn,Xn=fc(e.stateNode.containerInfo),ln(n,e),un(e),Xn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Qi,F=Re;if(Qi=z||h,Re=F||R,ln(n,e),Re=F,Qi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Qi||Re||Pr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ct){Yt(R,R.return,ct)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ct){Yt(R,R.return,ct)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?o_(q,!0):o_(R.stateNode,!1)}catch(ct){Yt(R,R.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(uy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(an(g,""),s.flags&=-33);var E=qf(e);Zu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=qf(e);Hf(e,z,R);break;default:throw Error(a(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),Pr(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&oy(n,n.return,s),Pr(n);break;case 27:ul(n.stateNode);case 26:case 5:bi(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Xi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,s),Wo(4,f);break;case 1:if(Xi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Xg(R[h],E)}catch(z){Yt(o,o.return,z)}}s&&g&64&&ay(f),tl(f,f.return);break;case 27:cy(f);case 26:case 5:Xi(h,f,s),s&&o===null&&g&4&&ly(f),tl(f,f.return);break;case 12:Xi(h,f,s);break;case 31:Xi(h,f,s),s&&g&4&&gy(h,f);break;case 13:Xi(h,f,s),s&&g&4&&py(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,s),tl(f,f.return);break;case 30:break;default:Xi(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&jo(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function $n(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,s,o),n=n.sibling}function vy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,s,o),h&2048&&Wo(9,n);break;case 1:$n(e,n,s,o);break;case 3:$n(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){$n(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else $n(e,n,s,o);break;case 31:$n(e,n,s,o);break;case 13:$n(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,s,o):el(e,n):f._visibility&2?$n(e,n,s,o):(f._visibility|=2,Ia(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:$n(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:$n(e,n,s,o)}}function Ia(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ia(f,g,E,R,h),Wo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ia(f,g,E,R,h):el(f,g):(F._visibility|=2,Ia(f,g,E,R,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:Ia(f,g,E,R,h),h&&z&2048&&Qf(g.alternate,g);break;default:Ia(f,g,E,R,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:el(s,o),h&2048&&Ff(o.alternate,o);break;case 24:el(s,o),h&2048&&Qf(o.alternate,o);break;default:el(s,o)}n=n.sibling}}var nl=8192;function xa(e,n,s){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)Ey(e,n,s),e=e.sibling}function Ey(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&nl&&e.memoizedState!==null&&gb(s,Xn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var o=Xn;Xn=fc(e.stateNode.containerInfo),xa(e,n,s),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,xa(e,n,s),nl=o):xa(e,n,s));break;default:xa(e,n,s)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ay(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):il(e);break;default:il(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ay(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Ay(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Ns(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(dy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var N1={getCacheForType:function(e){var n=Be(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ae).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,It=null,Nt=0,Kt=0,En=null,Ds=!1,Na=!1,Kf=!1,$i=0,he=0,Os=0,zr=0,Yf=0,Tn=0,Da=0,sl=null,cn=null,Xf=!1,tc=0,Sy=0,ec=1/0,nc=null,Ms=null,De=0,Vs=null,Oa=null,Zi=0,$f=0,Zf=null,wy=null,rl=0,Jf=null;function bn(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?sd():iu()}function Ry(){if(Tn===0)if((Nt&536870912)===0||Ut){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,s){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),ks(e,Nt,Tn,!1)),dr(e,s),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(zr|=s),he===4&&ks(e,Nt,Tn,!1)),Ai(e))}function Cy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?V1(e,n):td(e,n,!0),f=o;do{if(h===0){Na&&!o&&ks(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!O1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=sl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ma(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!R){E.errorRecoveryDisabledLanes|=f,zr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ks(o,n,Tn,!Ds);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-tn(),10<h)){if(ks(o,n,Tn,!Ds),ri(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=s_(Iy.bind(null,o,s,cn,nc,Xf,n,Tn,zr,Da,Ds,f,"Throttled",-0,0),h);break t}Iy(o,s,cn,nc,Xf,n,Tn,zr,Da,Ds,f,null,-0,0)}}break}while(!0);Ai(e)}function Iy(e,n,s,o,h,f,g,E,R,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ey(n,f,Y);var ct=(f&62914560)===f?tc-tn():(f&4194048)===f?Sy-tn():0;if(ct=pb(Y,ct),ct!==null){Zi=f,e.cancelPendingCommit=ct(Uy.bind(null,e,n,f,s,o,h,g,E,R,F,Y,null,j,q)),ks(e,f,g,!z);return}}Uy(e,n,f,s,o,h,g,E,R)}function O1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,s,o){n&=~Yf,n&=~zr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&mr(e,s,n)}function ic(){return(Gt&6)===0?(al(0),!1):!0}function Wf(){if(It!==null){if(Kt===0)var e=It.return;else e=It,ji=Nr=null,gf(e),Aa=null,qo=0,e=It;for(;e!==null;)ry(e.alternate,e),e=e.return;It=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Zi=0,Wf(),ee=e,It=s=Pi(e.current,null),Nt=n,Kt=0,En=null,Ds=!1,Na=jn(e,n),Kf=!1,Da=Tn=Yf=zr=Os=he=0,cn=sl=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return $i=n,Su(),s}function xy(e,n){Rt=null,G.H=$o,n===ba||n===Ou?(n=Fg(),Kt=3):n===nf?(n=Fg(),Kt=4):Kt=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,It===null&&(he=1,Qu(e,Nn(n,e.current)))}function Ny(){var e=_n.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function Dy(){var e=G.H;return G.H=$o,e===null?$o:e}function Oy(){var e=G.A;return G.A=N1,e}function sc(){he=4,Ds||(Nt&4194048)!==Nt&&_n.current!==null||(Na=!0),(Os&134217727)===0&&(zr&134217727)===0||ee===null||ks(ee,Nt,Tn,!1)}function td(e,n,s){var o=Gt;Gt|=2;var h=Dy(),f=Oy();(ee!==e||Nt!==n)&&(nc=null,Ma(e,n)),n=!1;var g=he;t:do try{if(Kt!==0&&It!==null){var E=It,R=En;switch(Kt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Kt;if(Kt=0,En=null,Va(e,E,R,z),s&&Na){g=0;break t}break;default:z=Kt,Kt=0,En=null,Va(e,E,R,z)}}M1(),g=he;break}catch(F){xy(e,F)}while(!0);return n&&e.shellSuspendCounter++,ji=Nr=null,Gt=o,G.H=h,G.A=f,It===null&&(ee=null,Nt=0,Su()),g}function M1(){for(;It!==null;)My(It)}function V1(e,n){var s=Gt;Gt|=2;var o=Dy(),h=Oy();ee!==e||Nt!==n?(nc=null,ec=tn()+500,Ma(e,n)):Na=jn(e,n);t:do try{if(Kt!==0&&It!==null){n=It;var f=En;e:switch(Kt){case 1:Kt=0,En=null,Va(e,n,f,1);break;case 2:case 9:if(Hg(f)){Kt=0,En=null,Vy(n);break}n=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),Ai(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Hg(f)?(Kt=0,En=null,Vy(n)):(Kt=0,En=null,Va(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?v_(g):E.stateNode.complete){Kt=0,En=null;var R=E.sibling;if(R!==null)It=R;else{var z=E.return;z!==null?(It=z,rc(z)):It=null}break e}}Kt=0,En=null,Va(e,n,f,5);break;case 6:Kt=0,En=null,Va(e,n,f,6);break;case 8:Wf(),he=6;break t;default:throw Error(a(462))}}k1();break}catch(F){xy(e,F)}while(!0);return ji=Nr=null,G.H=o,G.A=h,Gt=s,It!==null?0:(ee=null,Nt=0,Su(),he)}function k1(){for(;It!==null&&!xh();)My(It)}function My(e){var n=iy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Vy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:gf(n);default:ry(s,n),n=It=Og(n,$i),n=iy(s,n,$i)}e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Va(e,n,s,o){ji=Nr=null,gf(n),Aa=null,qo=0;var h=n.return;try{if(A1(e,h,n,s,Nt)){he=1,Qu(e,Nn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;he=1,Qu(e,Nn(s,e.current)),It=null;return}n.flags&32768?(Ut||o===1?e=!0:Na||(Nt&536870912)!==0?e=!1:(Ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),ky(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){ky(n,Ds);return}e=n.return;var s=R1(n.alternate,n,$i);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);he===0&&(he=5)}function ky(e,n){do{var s=C1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);he=6,It=null}function Uy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do ac();while(De!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,g,E,R),e===ee&&(It=ee=null,Nt=0),Oa=n,Vs=e,Zi=s,$f=f,Zf=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(hs,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Gt,Gt|=4;try{I1(e,n,s)}finally{Gt=g,rt.p=h,G.T=o}}De=1,Ly(),Py(),zy()}}function Ly(){if(De===1){De=0;var e=Vs,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{yy(n,e);var f=fd,g=Ag(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&bg(E.ownerDocument.documentElement,E)){if(R!==null&&Uh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),ct=E.textContent.length,yt=Math.min(R.start,ct),Wt=R.end===void 0?yt:Math.min(R.end,ct);!q.extend&&yt>Wt&&(g=Wt,Wt=yt,yt=g);var k=Tg(E,yt),O=Tg(E,Wt);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),yt>Wt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!hd,fd=hd=null}finally{Gt=h,rt.p=o,G.T=s}}e.current=n,De=2}}function Py(){if(De===2){De=0;var e=Vs,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{fy(e,n.alternate,n)}finally{Gt=h,rt.p=o,G.T=s}}De=3}}function zy(){if(De===4||De===3){De=0,$l();var e=Vs,n=Oa,s=Zi,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Oa=Vs=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ms=null),Vi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(Zi&3)!==0&&ac(),Ai(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?rl++:(rl=0,Jf=e):rl=0,al(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function ac(){return Ly(),Py(),zy(),By()}function By(){if(De!==5)return!1;var e=Vs,n=$f;$f=0;var s=Vi(Zi),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=Zf,Zf=null;var f=Vs,g=Zi;if(De=0,Oa=Vs=null,Zi=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,by(f.current),vy(f,f.current,g,s),Gt=E,al(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{rt.p=h,G.T=o,jy(e,n)}}function qy(e,n,s){n=Nn(s,n),n=Nf(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(dr(e,2),Ai(e))}function Yt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ms===null||!Ms.has(o))){e=Nn(s,e),s=Hp(2),o=Cs(n,s,2),o!==null&&(Gp(s,o,n,e),dr(o,2),Ai(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=U1.bind(null,e,n,s),n.then(e,e))}function U1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Nt&s)===s&&(he===4||he===3&&(Nt&62914560)===Nt&&300>tn()-tc?(Gt&2)===0&&Ma(e,0):Yf|=s,Da===Nt&&(Da=0)),Ai(e)}function Hy(e,n){n===0&&(n=nu()),e=Cr(e,n),e!==null&&(dr(e,n),Ai(e))}function L1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(e,s)}function P1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,s)}function z1(e,n){return Ne(e,n)}var oc=null,ka=null,nd=!1,lc=!1,id=!1,Us=0;function Ai(e){e!==ka&&e.next===null&&(ka===null?oc=ka=e:ka=ka.next=e),lc=!0,nd||(nd=!0,B1())}function al(e,n){if(!id&&lc){id=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ky(o,f))}else f=Nt,f=ri(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(s=!0,Ky(o,f));o=o.next}while(s);id=!1}}function j1(){Gy()}function Gy(){lc=nd=!1;var e=0;Us!==0&&Z1()&&(e=Us);for(var n=tn(),s=null,o=oc;o!==null;){var h=o.next,f=Fy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(ka=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}De!==0&&De!==5||al(e),Us!==0&&(Us=0)}function Fy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Dh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Nt,s=ri(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&cs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&cs(o),Vi(s)){case 2:case 8:s=po;break;case 32:s=hs;break;case 268435456:s=Zl;break;default:s=hs}return o=Qy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&cs(o),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Nt;return o=ri(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Fy(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Qy.bind(null,e):null)}function Ky(e,n){if(ac())return null;Cy(e,n,!0)}function B1(){W1(function(){(Gt&6)!==0?Ne(go,j1):Gy()})}function sd(){if(Us===0){var e=Ea;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Us=e}return Us}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function q1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var R=g?Xy(h,g):new FormData(h);Sf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Xy(h,g):new FormData(h),Sf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],H1=ad.toLowerCase(),G1=ad[0].toUpperCase()+ad.slice(1);Yn(H1,"on"+G1)}Yn(Rg,"onAnimationEnd"),Yn(Cg,"onAnimationIteration"),Yn(Ig,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(a1,"onTransitionRun"),Yn(o1,"onTransitionStart"),Yn(l1,"onTransitionCancel"),Yn(xg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function $y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}}}}function xt(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var o=e+"__bubble";s.has(o)||(Zy(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),Zy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[uc]){e[uc]=!0,vo.forEach(function(s){s!=="selectionchange"&&(F1.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,od("selectionchange",!1,n))}}function Zy(e,n,s,o){switch(R_(n)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ui(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ys(function(){var z=f,F=Rn(s),Y=[];t:{var j=Ng.get(e);if(j!==void 0){var q=pi,ct=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":ct="focus",q=Ar;break;case"focusout":ct="blur",q=Ar;break;case"beforeblur":case"afterblur":q=Ar;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rg:case Cg:case Ig:q=du;break;case xg:q=b;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Li;break;case"toggle":case"beforetoggle":q=wt}var yt=(n&4)!==0,Wt=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Gn(O,k),K!=null&&yt.push(ll(O,K,P))),Wt)break;O=O.return}0<yt.length&&(j=new q(j,ct,null,s,F),Y.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Io&&(ct=s.relatedTarget||s.fromElement)&&(ui(ct)||ct[oi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ct=s.relatedTarget||s.toElement,q=z,ct=ct?ui(ct):null,ct!==null&&(Wt=c(ct),yt=ct.tag,ct!==Wt||yt!==5&&yt!==27&&yt!==6)&&(ct=null)):(q=null,ct=z),q!==ct)){if(yt=Oo,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Li,K="onPointerLeave",k="onPointerEnter",O="pointer"),Wt=q==null?j:mn(q),P=ct==null?j:mn(ct),j=new yt(K,O+"leave",q,s,F),j.target=Wt,j.relatedTarget=P,K=null,ui(F)===z&&(yt=new yt(k,O+"enter",ct,s,F),yt.target=P,yt.relatedTarget=Wt,K=yt),Wt=K,q&&ct)e:{for(yt=Q1,k=q,O=ct,P=0,K=k;K;K=yt(K))P++;K=0;for(var dt=O;dt;dt=yt(dt))K++;for(;0<P-K;)k=yt(k),P--;for(;0<K-P;)O=yt(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){yt=k;break e}k=yt(k),O=yt(O)}yt=null}else yt=null;q!==null&&Jy(Y,j,q,yt,!1),ct!==null&&Wt!==null&&Jy(Y,Wt,ct,yt,!0)}}t:{if(j=z?mn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var jt=gg;else if(dg(j))if(pg)jt=i1;else{jt=e1;var ht=t1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&sa(z.elementType)&&(jt=gg):jt=n1;if(jt&&(jt=jt(e,z))){mg(Y,jt,s,F);break t}ht&&ht(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&wo(j,"number",j.value)}switch(ht=z?mn(z):window,e){case"focusin":(dg(ht)||ht.contentEditable==="true")&&(fa=ht,Lh=z,Lo=null);break;case"focusout":Lo=Lh=fa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Sg(Y,s,F);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":Sg(Y,s,F)}var Ct;if(Ht)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ha?Sr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(vi&&s.locale!=="ko"&&(ha||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ha&&(Ct=No()):(gi=F,xo="value"in gi?gi.value:gi.textContent,ha=!0)),ht=cc(z,Dt),0<ht.length&&(Dt=new _i(Dt,e,null,s,F),Y.push({event:Dt,listeners:ht}),Ct?Dt.data=Ct:(Ct=ca(s),Ct!==null&&(Dt.data=Ct)))),(Ct=In?$T(e,s):ZT(e,s))&&(Dt=cc(z,"onBeforeInput"),0<Dt.length&&(ht=new _i("onBeforeInput","beforeinput",null,s,F),Y.push({event:ht,listeners:Dt}),ht.data=Ct)),q1(Y,e,z,s,F)}$y(Y,n)})}function ll(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,s),h!=null&&o.unshift(ll(e,h,f)),h=Gn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Gn(s,f),z!=null&&g.unshift(ll(s,z,R))):h||(z=Gn(s,f),z!=null&&g.push(ll(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Y1,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,s,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,na(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):na(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Jt(e,n,o,F,s,null)}}ou(e,f,E,R,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ds(e,!!o,n,!1):s!=null&&ds(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,s,null)}ms(e,o,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,R,o,s,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)xt(ol[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,z,o,s,null)}return;default:if(sa(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&cd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function X1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Jt(e,n,j,q,o,Y)}}ia(e,g,E,R,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Jt(e,n,h,f,o,R)}n=E,s=g,o=q,j!=null?ds(e,!!s,j,!1):!!o!=!!s&&(n!=null?ds(e,!!s,n,!0):ds(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}lu(e,j,q);return;case"option":for(var ct in s)if(j=s[ct],s.hasOwnProperty(ct)&&j!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Jt(e,n,ct,null,o,j)}for(R in o)if(j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&Jt(e,n,yt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Jt(e,n,z,j,o,q)}return;default:if(sa(n)){for(var Wt in s)j=s[Wt],s.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&cd(e,n,Wt,void 0,o,j);for(F in o)j=o[F],q=s[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||cd(e,n,F,j,o,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,j);for(Y in o)j=o[Y],q=s[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Jt(e,n,Y,j,o,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&e_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var F=R.transferSize,Y=R.initiatorType;F&&e_(Y)&&(R=R.responseEnd,g+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(tb)}:s_;function tb(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function a_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ul(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ul(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ul(e.ownerDocument.body);s=h}while(s);za(n)}function o_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function eb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function nb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Un=new Map,f_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=rt.d;rt.d={f:sb,r:rb,D:ab,C:ob,L:lb,m:ub,X:hb,S:cb,M:fb};function sb(){var e=Ji.f(),n=ic();return e||n}function rb(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?xp(n):Ji.r(e)}var Ua=typeof document>"u"?null:document;function d_(e,n,s){var o=Ua;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Te(n),o.head.appendChild(n)))}}function ab(e){Ji.D(e),d_("dns-prefetch",e,null)}function ob(e,n){Ji.C(e,n),d_("preconnect",e,n)}function lb(e,n,s){Ji.L(e,n,s);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Un.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),He(n,"link",e),Te(n),o.head.appendChild(n)))}}function ub(e,n){Ji.m(e,n);var s=Ua;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Un.has(f)&&(e=A({rel:"modulepreload",href:e},n),Un.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(f)))return}o=s.createElement("link"),He(o,"link",e),Te(o),s.head.appendChild(o)}}}function cb(e,n,s){Ji.S(e,n,s);var o=Ua;if(o&&e){var h=ci(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(f))&&vd(e,s);var R=g=o.createElement("link");Te(R),He(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function hb(e,n){Ji.X(e,n);var s=Ua;if(s&&e){var o=ci(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=A({src:e,async:!0},n),(n=Un.get(h))&&Ed(e,n),f=s.createElement("script"),Te(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fb(e,n){Ji.M(e,n);var s=Ua;if(s&&e){var o=ci(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&Ed(e,n),f=s.createElement("script"),Te(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(e,n,s,o){var h=(h=W.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=ci(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),f||db(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=ci(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+rn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Te(n),e.head.appendChild(n))}function Pa(e){return'[src="'+rn(e)+'"]'}function hl(e){return"script[async]"+e}function p_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),He(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=La(s.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=g_(s),(h=Un.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(hl(f)))?(n.instance=h,Te(h),h):(o=s,(h=Un.get(f))&&(o=A({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function y_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function __(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function mb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=g_(o),(h=Un.get(h))&&vd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function pb(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*$1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(yb,e),pc=null,gc.call(e))}function yb(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function _b(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function E_(e,n,s,o,h,f,g,E,R,z,F,Y){return e=new _b(e,n,s,g,R,z,F,Y,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},sf(f),e}function T_(e){return e?(e=ga,e):ga}function b_(e,n,s,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Cs(e,o,n),s!==null&&(hn(s,e,n),Go(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&hn(n,e,67108864),bd(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=bn();n=gr(n);var s=Cr(e,n);s!==null&&hn(s,e,n),bd(e,n)}}var _c=!0;function vb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Ad(e,n,s,o)}finally{rt.p=f,G.T=h}}function Eb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Ad(e,n,s,o)}finally{rt.p=f,G.T=h}}function Ad(e,n,s,o){if(_c){var h=Sd(o);if(h===null)ud(e,n,o,vc,s),C_(e,o);else if(bb(h,e,n,s,o))o.stopPropagation();else if(C_(e,o),n&4&&-1<Tb.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=si(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-de(g);E.entanglements[1]|=R,g&=~R}Ai(f),(Gt&6)===0&&(ec=tn()+500,al(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&hn(E,f,2),ic(),bd(f,2)}if(f=Sd(o),f===null&&ud(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function Sd(e){return e=Rn(e),wd(e)}var vc=null;function wd(e){if(vc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case go:return 2;case po:return 8;case hs:case Nh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ps=null,zs=null,js=null,dl=new Map,ml=new Map,Bs=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function bb(e,n,s,o,h){switch(n){case"focusin":return Ps=gl(Ps,e,n,s,o,h),!0;case"dragenter":return zs=gl(zs,e,n,s,o,h),!0;case"mouseover":return js=gl(js,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,s,o,h)),!0}return!1}function I_(e){var n=ui(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){w_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Io=o,s.target.dispatchEvent(o),Io=null}else return n=wn(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function x_(e,n,s){Ec(e)&&s.delete(n)}function Ab(){Rd=!1,Ps!==null&&Ec(Ps)&&(Ps=null),zs!==null&&Ec(zs)&&(zs=null),js!==null&&Ec(js)&&(js=null),dl.forEach(x_),ml.forEach(x_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ab)))}var bc=null;function N_(e){bc!==e&&(bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=wn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function za(e){function n(R){return Tc(R,e)}Ps!==null&&Tc(Ps,e),zs!==null&&Tc(zs,e),js!==null&&Tc(js,e),dl.forEach(n),ml.forEach(n);for(var s=0;s<Bs.length;s++){var o=Bs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Bs.length&&(s=Bs[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&Bs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||N_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),N_(s)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Ac.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();b_(s,o,e,n,null,null)},Ac.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),ic(),n[oi]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Bs.length&&n!==0&&n<Bs[s].priority;s++);Bs.splice(s,0,e),s===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.3")throw Error(a(527,O_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{zn=Sc.inject(Sb),Pe=Sc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=zp,f=jp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=E_(e,1,!1,null,null,s,o,null,h,f,g,D_),e[oi]=n.current,ld(e),new Cd(n)},yl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=zp,g=jp,E=Bp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=E_(e,1,!0,n,s??null,o,h,R,f,g,E,D_),n.context=T_(null),s=n.current,o=bn(),o=gr(o),h=Rs(o),h.callback=null,Cs(s,h,o),s=o,n.current.lanes=s,dr(n,s),Ai(n),e[oi]=n.current,ld(e),new Ac(n)},yl.version="19.2.3",yl}var q_;function Vb(){if(q_)return Nd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=Mb(),Nd.exports}var kb=Vb();const Ub=()=>{};var H_={};const wv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Lb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(M=64)),a.push(i[T],i[A],i[M],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(wv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Lb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new Pb;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),A!==64){const et=y<<6&192|A;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const t=wv(r);return Rv.encodeByteArray(t,!0)},qc=function(r){return zb(r).replace(/\./g,"")},Cv=function(r){try{return Rv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bb=()=>jb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Hb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Cv(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return Ub()||Bb()||qb()||Hb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Iv=r=>lh()?.emulatorHosts?.[r],Gb=r=>{const t=Iv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},xv=()=>lh()?.config,Nv=r=>lh()?.[`_${r}`];class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(r){return(await fetch(r,{credentials:"include"})).ok}function Qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Al={};function Kb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?r.emulator.push(t):r.prod.push(t);return r}function Yb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let G_=!1;function Ov(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Al[r]===t||Al[r]||G_)return;Al[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Kb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{G_=!0,d()},M}function T(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Yb(a),H=i("text"),et=document.getElementById(H)||document.createElement("span"),st=i("learnmore"),tt=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),Tt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;p(_t),T(tt,st);const qt=y();_(Tt,mt),_t.append(Tt,et,tt,qt),document.body.appendChild(_t)}c?(et.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function $b(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tA(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eA(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const sA="FirebaseError";class ls extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sA,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?rA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ls(l,p,a)}}function rA(r,t){return r.replace(aA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const aA=/\{\$([^}]+)}/g;function oA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function er(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(F_(c)&&F_(d)){if(!er(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}function Pl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lA(r,t){const i=new uA(r,t);return i.subscribe.bind(i)}class uA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function sn(r){return r&&r._delegate?r._delegate:r}class Gr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jr="[DEFAULT]";class hA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dA(t))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jr){return this.instances.has(t)}getOptions(t=jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=jr){return this.component?this.component.multipleInstances?t:jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(r){return r===jr?void 0:r}function dA(r){return r.instantiationMode==="EAGER"}class mA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const gA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},pA=Ot.INFO,yA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},_A=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=yA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=pA,this._logHandler=_A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const vA=(r,t)=>t.some(i=>r instanceof i);let Q_,K_;function EA(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TA(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,$d=new WeakMap,Vv=new WeakMap,kd=new WeakMap,wm=new WeakMap;function bA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i($s(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Mv.set(i,r)}).catch(()=>{}),wm.set(t,r),t}function AA(r){if($d.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Vv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $s(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function SA(r){Zd=r(Zd)}function wA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return Vv.set(a,t.sort?t.sort():[t]),$s(a)}:TA().includes(r)?function(...t){return r.apply(Ud(this),t),$s(Mv.get(this))}:function(...t){return $s(r.apply(Ud(this),t))}}function RA(r){return typeof r=="function"?wA(r):(r instanceof IDBTransaction&&AA(r),vA(r,EA())?new Proxy(r,Zd):r)}function $s(r){if(r instanceof IDBRequest)return bA(r);if(kd.has(r))return kd.get(r);const t=RA(r);return t!==r&&(kd.set(r,t),wm.set(t,r)),t}const Ud=r=>wm.get(r);function CA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=$s(d);return a&&d.addEventListener("upgradeneeded",_=>{a($s(d.result),_.oldVersion,_.newVersion,$s(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const IA=["get","getKey","getAll","getAllKeys","count"],xA=["put","add","delete","clear"],Ld=new Map;function Y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=xA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||IA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}SA(r=>({...r,get:(t,i,a)=>Y_(t,i)||r.get(t,i,a),has:(t,i)=>!!Y_(t,i)||r.has(t,i)}));class NA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DA(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",X_="0.14.6";const ns=new Sm("@firebase/app"),OA="@firebase/app-compat",MA="@firebase/analytics-compat",VA="@firebase/analytics",kA="@firebase/app-check-compat",UA="@firebase/app-check",LA="@firebase/auth",PA="@firebase/auth-compat",zA="@firebase/database",jA="@firebase/data-connect",BA="@firebase/database-compat",qA="@firebase/functions",HA="@firebase/functions-compat",GA="@firebase/installations",FA="@firebase/installations-compat",QA="@firebase/messaging",KA="@firebase/messaging-compat",YA="@firebase/performance",XA="@firebase/performance-compat",$A="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",WA="@firebase/storage-compat",tS="@firebase/firestore",eS="@firebase/ai",nS="@firebase/firestore-compat",iS="firebase",sS="12.6.0";const Wd="[DEFAULT]",rS={[Jd]:"fire-core",[OA]:"fire-core-compat",[VA]:"fire-analytics",[MA]:"fire-analytics-compat",[UA]:"fire-app-check",[kA]:"fire-app-check-compat",[LA]:"fire-auth",[PA]:"fire-auth-compat",[zA]:"fire-rtdb",[jA]:"fire-data-connect",[BA]:"fire-rtdb-compat",[qA]:"fire-fn",[HA]:"fire-fn-compat",[GA]:"fire-iid",[FA]:"fire-iid-compat",[QA]:"fire-fcm",[KA]:"fire-fcm-compat",[YA]:"fire-perf",[XA]:"fire-perf-compat",[$A]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[WA]:"fire-gcs-compat",[tS]:"fire-fst",[nS]:"fire-fst-compat",[eS]:"fire-vertex","fire-js":"fire-js",[iS]:"fire-js-all"};const Hc=new Map,aS=new Map,tm=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(tm.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Hc.values())$_(i,r);for(const i of aS.values())$_(i,r);return!0}function Rm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}const oS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Ll("app","Firebase",oS);class lS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const ro=sS;function kv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=xv()),!i)throw Zs.create("no-options");const c=Hc.get(l);if(c){if(er(i,c.options)&&er(a,c.config))return c;throw Zs.create("duplicate-app",{appName:l})}const d=new mA(l);for(const _ of tm.values())d.addComponent(_);const p=new lS(i,a,d);return Hc.set(l,p),p}function Uv(r=Wd){const t=Hc.get(r);if(!t&&r===Wd&&xv())return kv();if(!t)throw Zs.create("no-app",{appName:r});return t}function Js(r,t,i){let a=rS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}$a(new Gr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uS="firebase-heartbeat-database",cS=1,xl="firebase-heartbeat-store";let Pd=null;function Lv(){return Pd||(Pd=CA(uS,cS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zs.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function hS(r){try{const i=(await Lv()).transaction(xl),a=await i.objectStore(xl).get(Pv(r));return await i.done,a}catch(t){if(t instanceof ls)ns.warn(t.message);else{const i=Zs.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function Z_(r,t){try{const a=(await Lv()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,Pv(r)),await a.done}catch(i){if(i instanceof ls)ns.warn(i.message);else{const a=Zs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function Pv(r){return`${r.name}!${r.options.appId}`}const fS=1024,dS=30;class mS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dS){const l=yS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=gS(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function gS(r,t=fS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),W_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),W_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function W_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function yS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function _S(r){$a(new Gr("platform-logger",t=>new NA(t),"PRIVATE")),$a(new Gr("heartbeat",t=>new mS(t),"PRIVATE")),Js(Jd,X_,r),Js(Jd,X_,"esm2020"),Js("fire-js","")}_S("");var vS="firebase",ES="12.6.0";Js(vS,ES,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TS=zv,jv=new Ll("auth","Firebase",zv());const Gc=new Sm("@firebase/auth");function bS(r,...t){Gc.logLevel<=Ot.WARN&&Gc.warn(`Auth (${ro}): ${r}`,...t)}function Dc(r,...t){Gc.logLevel<=Ot.ERROR&&Gc.error(`Auth (${ro}): ${r}`,...t)}function is(r,...t){throw Cm(r,...t)}function Ri(r,...t){return Cm(r,...t)}function Bv(r,t,i){const a={...TS(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:r.name})}function es(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return jv.create(r,...t)}function Et(r,t,...i){if(!r)throw Cm(t,...i)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function ss(r,t){r||Wi(t)}function em(){return typeof self<"u"&&self.location?.href||""}function AS(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function SS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AS()||Jb()||"connection"in navigator)?navigator.onLine:!0}function wS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ss(i>t,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return SS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(r,t){ss(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class qv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IS=new zl(3e4,6e4);function jl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ao(r,t,i,a,l={}){return Hv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Pl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Zb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),qv.fetch()(await Gv(r,r.config.apiHost,i,p),y)})}async function Hv(r,t,i){r._canInitEmulator=!1;const a={...RS,...t};try{const l=new xS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(r,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bv(r,T,y);is(r,T)}}catch(l){if(l instanceof ls)throw l;is(r,"network-request-failed",{message:String(l)})}}async function xm(r,t,i,a,l={}){const c=await ao(r,t,i,a,l);return"mfaPendingCredential"in c&&is(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Gv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Im(r.config,l):`${r.config.apiScheme}://${l}`;return CS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),IS.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ri(r,t,a);return l.customData._tokenResponse=i,l}async function NS(r,t){return ao(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return ao(r,"POST","/v1/accounts:lookup",t)}function Sl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DS(r,t=!1){const i=sn(r),a=await i.getIdToken(t),l=Nm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Sl(zd(l.auth_time)),issuedAtTime:Sl(zd(l.iat)),expirationTime:Sl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Nm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Cv(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function e0(r){const t=Nm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ls&&OS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function OS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Nl(r,Fc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Fv(l.providerUserInfo):[],d=kS(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function VS(r){const t=sn(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Fv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function US(r,t){const i=await Hv(r,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Gv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LS(r,t){return ao(r,"POST","/v2/accounts:revokeToken",jl(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):e0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=e0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await US(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Fa;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Hs(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new MS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DS(this,t)}reload(){return VS(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(es(this.auth));const t=await this.getIdToken();return await Nl(this,NS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:H,providerData:et,stsTokenManager:st}=i;Et(A&&st,t,"internal-error");const tt=Fa.fromJSON(this.name,st);Et(typeof A=="string",t,"internal-error"),Hs(a,t.name),Hs(l,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),Hs(c,t.name),Hs(d,t.name),Hs(p,t.name),Hs(_,t.name),Hs(y,t.name),Hs(T,t.name);const mt=new Wn({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:T});return et&&Array.isArray(et)&&(mt.providerData=et.map(Tt=>({...Tt}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Fv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const _=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const n0=new Map;function ts(r){ss(r instanceof Function,"Expected a class definition");let t=n0.get(r);return t?(ss(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,n0.set(r,t),t)}class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Qv.type="NONE";const i0=Qv;function Oc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(ts(i0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ts(i0);const d=Oc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const M=await Fc(t,{idToken:T}).catch(()=>{});if(!M)break;A=await Wn._fromGetAccountInfoResponse(t,M,T)}else A=Wn._fromJSON(t,T);y!==c&&(p=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Qa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qa(c,t,a))}}function s0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($v(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jv(t))return"Blackberry";if(Wv(t))return"Webos";if(Yv(t))return"Safari";if((t.includes("chrome/")||Xv(t))&&!t.includes("edge/"))return"Chrome";if(Zv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Kv(r=Je()){return/firefox\//i.test(r)}function Yv(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xv(r=Je()){return/crios\//i.test(r)}function $v(r=Je()){return/iemobile/i.test(r)}function Zv(r=Je()){return/android/i.test(r)}function Jv(r=Je()){return/blackberry/i.test(r)}function Wv(r=Je()){return/webos/i.test(r)}function Dm(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PS(r=Je()){return Dm(r)&&!!window.navigator?.standalone}function zS(){return tA()&&document.documentMode===10}function tE(r=Je()){return Dm(r)||Zv(r)||Wv(r)||Jv(r)||/windows phone/i.test(r)||$v(r)}function eE(r,t=[]){let i;switch(r){case"Browser":i=s0(Je());break;case"Worker":i=`${s0(Je())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${a}`}class jS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BS(r,t={}){return ao(r,"GET","/v2/passwordPolicy",jl(r,t))}const qS=6;class HS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new jS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(es(this));const i=t?sn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BS(this),i=new HS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(r){return sn(r)}class r0{constructor(t){this.auth=t,this.observer=null,this.addObserver=lA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FS(r){Om=r}function QS(r){return Om.loadJS(r)}function KS(){return Om.gapiScript}function YS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function XS(r,t){const i=Rm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(er(c,t??{}))return l;is(l,"already-initialized")}return i.initialize({options:t})}function $S(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZS(r,t,i){const a=Bl(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=nE(t),{host:d,port:p}=JS(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(er(y,a.config.emulator)&&er(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,so(d)?(Dv(`${c}//${d}${_}`),Ov("Auth",!0)):WS()}function nE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function JS(r){const t=nE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:a0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:a0(d)}}}function a0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function WS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class iE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Ka(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",jl(r,t))}const tw="http://localhost";class Fr extends iE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Fr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class sE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends ql{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class Qs extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Ks extends ql{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ys extends ql{constructor(){super("twitter.com")}static credential(t,i){return Fr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ys.credential(i,a)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function ew(r,t){return xm(r,"POST","/v1/accounts:signUp",jl(r,t))}class rs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Wn._fromIdTokenResponse(t,a,l),d=o0(a);return new rs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=o0(a);return new rs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function nw(r){if(Ln(r.app))return Promise.reject(es(r));const t=Bl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new rs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ew(t,{returnSecureToken:!0}),a=await rs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends ls{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function rE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function iw(r,t,i=!1){const a=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return rs._forOperation(r,"link",a)}async function sw(r,t,i=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(es(a));const l="reauthenticate";try{const c=await Nl(r,rE(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=Nm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),rs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&is(a,"user-mismatch"),c}}async function rw(r,t,i=!1){if(Ln(r.app))return Promise.reject(es(r));const a="signIn",l=await rE(r,a,t),c=await rs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function aw(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",jl(r,t))}async function ow(r,t){if(Ln(r.app))return Promise.reject(es(r));const i=Bl(r),a=await aw(i,{token:t,returnSecureToken:!0}),l=await rs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function lw(r,t,i,a){return sn(r).onIdTokenChanged(t,i,a)}function uw(r,t,i){return sn(r).beforeAuthStateChanged(t,i)}function cw(r,t,i,a){return sn(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class aE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hw=1e3,fw=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,fw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}oE.type="LOCAL";const dw=oE;class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}lE.type="SESSION";const uE=lE;function mw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await mw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Mm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Mm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function pw(r){Ci().location.href=r}function cE(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function yw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _w(){return navigator?.serviceWorker?.controller||null}function vw(){return cE()?self:null}const hE="firebaseLocalStorageDb",Ew=1,Xc="firebaseLocalStorage",fE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function Tw(){const r=indexedDB.deleteDatabase(hE);return new Hl(r).toPromise()}function im(){const r=indexedDB.open(hE,Ew);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:fE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await Tw(),t(await im()))})})}async function l0(r,t,i){const a=ch(r,!0).put({[fE]:t,value:i});return new Hl(a).toPromise()}async function bw(r,t){const i=ch(r,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function u0(r,t){const i=ch(r,!0).delete(t);return new Hl(i).toPromise()}const Aw=800,Sw=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Sw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(vw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yw(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await l0(t,Yc,"1"),await u0(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>l0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>bw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>u0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const ww=dE;new zl(3e4,6e4);function Rw(r,t){return t?ts(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vm extends iE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Cw(r){return rw(r.auth,new Vm(r),r.bypassAuthState)}function Iw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),sw(i,new Vm(r),r.bypassAuthState)}async function xw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),iw(i,new Vm(r),r.bypassAuthState)}class mE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Iw;default:is(this.auth,"internal-error")}}resolve(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new zl(2e3,1e4);class Ga extends mE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Nw.get())};t()}}Ga.currentPopupAction=null;const Dw="pendingRedirect",Mc=new Map;class Ow extends mE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await Mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mw(r,t){const i=Uw(t),a=kw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Vw(r,t){Mc.set(r._key(),t)}function kw(r){return ts(r._redirectPersistence)}function Uw(r){return Oc(Dw,r.config.apiKey,r.name)}async function Lw(r,t,i=!1){if(Ln(r.app))return Promise.reject(es(r));const a=Bl(r),l=Rw(a,t),d=await new Ow(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Pw=600*1e3;class zw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!gE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(t))}saveEventToCache(t){this.cachedEventUids.add(c0(t)),this.lastProcessedEventTime=Date.now()}}function c0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function gE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function jw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(r);default:return!1}}async function Bw(r,t={}){return ao(r,"GET","/v1/projects",t)}const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Gw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Bw(r);for(const i of t)try{if(Fw(i))return}catch{}is(r,"unauthorized-domain")}function Fw(r){const t=em(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Hw.test(i))return!1;if(qw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Qw=new zl(3e4,6e4);function h0(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Kw(r){return new Promise((t,i)=>{function a(){h0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{h0(),i(Ri(r,"network-request-failed"))},timeout:Qw.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const l=YS("iframefcb");return Ci()[l]=()=>{gapi.load?a():i(Ri(r,"network-request-failed"))},QS(`${KS()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function Yw(r){return Vc=Vc||Kw(r),Vc}const Xw=new zl(5e3,15e3),$w="__/auth/iframe",Zw="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Im(t,Zw):`https://${r.config.authDomain}/${$w}`,a={apiKey:t.apiKey,appName:r.name,v:ro},l=Ww.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Pl(a).slice(1)}`}async function e2(r){const t=await Yw(r),i=Ci().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:t2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},Xw.get());function _(){Ci().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,r2="_blank",a2="http://localhost";class f0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o2(r,t,i,a=i2,l=s2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...n2,width:a.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=Xv(y)?r2:i),Kv(y)&&(t=t||a2,_.scrollbars="yes");const T=Object.entries(_).reduce((M,[H,et])=>`${M}${H}=${et},`,"");if(PS(y)&&p!=="_self")return l2(t||"",p),new f0(null);const A=window.open(t||"",p,T);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new f0(A)}function l2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function d0(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ro,eventId:l};if(t instanceof sE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",oA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof ql){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${h2}=${encodeURIComponent(_)}`:"";return`${f2(r)}?${Pl(p).slice(1)}${y}`}function f2({config:r}){return r.emulator?Im(r,c2):`https://${r.authDomain}/${u2}`}const jd="webStorageSupport";class d2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=Lw,this._overrideRedirectResult=Vw}async _openPopup(t,i,a,l){ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await d0(t,i,a,em(),l);return o2(t,c,Mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await d0(t,i,a,em(),l);return pw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await e2(t),a=new zw(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Gw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return tE()||Yv()||Dm()}}const m2=d2;var m0="@firebase/auth",g0="1.11.1";class g2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(r){$a(new Gr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(r)},y=new GS(a,l,c,_);return $S(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Gr("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(a=>new g2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(m0,g0,p2(r)),Js(m0,g0,"esm2020")}const _2=300,v2=Nv("authIdTokenMaxAge")||_2;let p0=null;const E2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>v2)return;const l=i?.token;p0!==l&&(p0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function T2(r=Uv()){const t=Rm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=XS(r,{popupRedirectResolver:m2,persistence:[ww,dw,uE]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=E2(c.toString());uw(i,d,()=>d(i.currentUser)),lw(i,p=>d(p))}}const l=Iv("auth");return l&&ZS(i,`http://${l}`),i}function b2(){return document.getElementsByTagName("head")?.[0]??document}FS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",b2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,pE;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,U){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return S.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],D=I.g[2];let U=I.g[3],w;w=S+(U^C&(D^U))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(D^S&(C^D))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(C^U&(S^C))+V[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(S^D&(U^S))+V[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(U^C&(D^U))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(D^S&(C^D))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(C^U&(S^C))+V[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(S^D&(U^S))+V[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(U^C&(D^U))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(D^S&(C^D))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(C^U&(S^C))+V[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(S^D&(U^S))+V[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(U^C&(D^U))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(D^S&(C^D))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(C^U&(S^C))+V[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(S^D&(U^S))+V[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(D^U&(C^D))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(S^C))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(U^S))+V[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(D^U))+V[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(C^D))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(S^C))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(U^S))+V[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(D^U))+V[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(C^D))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(S^C))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(U^S))+V[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(D^U))+V[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(C^D))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(S^C))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(U^S))+V[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(D^U))+V[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(C^D^U)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^D)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^C)+V[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^S)+V[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^U)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^D)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^C)+V[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^S)+V[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^U)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^D)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^C)+V[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^S)+V[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^U)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^D)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^C)+V[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^S)+V[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(D^(C|~U))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~D))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~C))+V[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~S))+V[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~U))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~D))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~C))+V[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~S))+V[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~U))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~D))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~C))+V[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~S))+V[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~U))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~D))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~C))+V[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(V[D++]=I.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<S;)if(V[D++]=I[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const U=I[D]|0;V&&U==S||(C[D]=U,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return tt(y(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function T(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(T(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=A;for(let U=0;U<I.length;U+=8){var D=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var A=_(0),M=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(st(this))return-tt(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(st(this))return"-"+tt(this).toString(I);const S=y(Math.pow(I,6));var C=this;let V="";for(;;){const D=qt(C,S).g;C=mt(C,D.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,et(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function st(I){return I.h==-1}r.l=function(I){return I=mt(this,I),st(I)?-1:et(I)?0:1};function tt(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}r.abs=function(){return st(this)?tt(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=S;D++){let U=V+(this.i(D)&65535)+(I.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=w>>>16,U&=65535,w&=65535,C[D]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(I,S){return I.add(tt(S))}r.j=function(I){if(et(this)||et(I))return A;if(st(this))return st(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(st(I))return tt(this.j(tt(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const U=this.i(V)>>>16,w=this.i(V)&65535,te=I.i(D)>>>16,oe=I.i(D)&65535;C[2*V+2*D]+=w*oe,Tt(C,2*V+2*D),C[2*V+2*D+1]+=U*oe,Tt(C,2*V+2*D+1),C[2*V+2*D+1]+=w*te,Tt(C,2*V+2*D+1),C[2*V+2*D+2]+=U*te,Tt(C,2*V+2*D+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function Tt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function _t(I,S){this.g=I,this.h=S}function qt(I,S){if(et(S))throw Error("division by zero");if(et(I))return new _t(A,A);if(st(I))return S=qt(tt(I),S),new _t(tt(S.g),tt(S.h));if(st(S))return S=qt(I,tt(S)),new _t(tt(S.g),S.h);if(I.g.length>30){if(st(I)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=S;V.l(I)<=0;)C=zt(C),V=zt(V);var D=kt(C,1),U=kt(V,1);for(V=kt(V,2),C=kt(C,2);!et(V);){var w=U.add(V);w.l(I)<=0&&(D=D.add(C),U=w),V=kt(V,1),C=kt(C,1)}return S=mt(I,D.j(S)),new _t(D,S)}for(D=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),w=U.j(S);st(w)||w.l(I)>0;)C-=V,U=y(C),w=U.j(S);et(U)&&(U=M),D=D.add(U),I=mt(I,w)}return new _t(D,I)}r.B=function(I){return qt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function zt(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function kt(I,S){const C=S>>5;S%=32;const V=I.g.length-C,D=[];for(let U=0;U<V;U++)D[U]=S>0?I.i(U+C)>>>S|I.i(U+C+1)<<32-S:I.i(U+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Ws=d}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,vl,_E,kc,sm,vE,EE,TE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[L].apply(b,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function et(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let nt=0;nt<B;nt++)u[v+nt]=L[nt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const b=_t.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var _t=new st(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,kt=!1,I=new Tt,S=()=>{const u=Promise.resolve(void 0);zt=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(te,D),te.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function at(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function ot(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=W(u,m,b,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new rt(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function ut(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&($(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function W(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var pt="closure_lm_"+(Math.random()*1e6|0),Xt={};function Lt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Lt(u,m[B],v,b,L);return null}return v=mo(v),u&&u[oe]?u.J(m,v,p(b)?!!b.capture:!1,L):We(u,m,v,!1,b,L)}function We(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let wt=cr(u);if(wt||(u[pt]=wt=new it(u)),v=wt.add(m,v,b,nt,B),v.proxy)return v;if(b=us(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function us(){function u(v){return m.call(u.src,u.listener,v)}const m=ho;return u}function Zr(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zr(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=mo(v),u&&u[oe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=W(m,v,b,L),v>-1&&($(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=cr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=W(m,v,b,L)),(v=u>-1?m[u]:null)&&Jr(v))}function Jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])ut(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ni(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=cr(m))?(ut(v,u),v.h==0&&(v.src=null,m[pt]=null)):$(u)}}}function ni(u){return u in Xt?Xt[u]:Xt[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new te(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Jr(u),u=v.call(b,m)}return u}function cr(u){return u=u[pt],u instanceof it?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function _e(){V.call(this),this.i=new it(this),this.M=this,this.G=null}A(_e,V),_e.prototype[oe]=!0,_e.prototype.removeEventListener=function(u,m,v,b){Zr(this,u,m,v,b)};function Ne(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(b,u),J(m,L)}L=!0;let B,nt;if(v)for(nt=v.length-1;nt>=0;nt--)B=m.g=v[nt],L=cs(B,b,!0,m)&&L;if(B=m.g=u,L=cs(B,b,!0,m)&&L,L=cs(B,b,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)B=m.g=v[nt],L=cs(B,b,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)$(v[b]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_e.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function cs(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,me=nt.ha||nt.src;nt.fa&&ut(u.i,nt),L=wt.call(me,b)!==!1&&L}}return L&&!b.defaultPrevented}function xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=xh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){V.call(this),this.h=u,this.g={}}A(hr,V);var go=[];function po(u){at(u.g,function(m,v){this.g.hasOwnProperty(v)&&Jr(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),po(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=d.JSON.stringify,Nh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}A(Pe,D);function Sn(){D.call(this,"c")}A(Sn,D);var de={},tu=null;function Wr(){return tu=tu||new _e}de.Ia="serverreachability";function eu(u){D.call(this,de.Ia,u)}A(eu,D);function ii(u){const m=Wr();Ne(m,new eu(m))}de.STAT_EVENT="statevent";function fr(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}A(fr,D);function ve(u){const m=Wr();Ne(m,new fr(m,u))}de.Ja="timingevent";function si(u,m){D.call(this,de.Ja,u),this.size=m}A(si,D);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var nt="",wt=B.split("&");for(let Ht=0;Ht<wt.length;Ht++){var me=wt[Ht].split("=");if(me.length>1){const re=me[0];me=me[1];const In=re.split("_");nt=In.length>=2&&In[1]=="type"?nt+(re+"="+me+"&"):nt+(re+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function nu(u,m,v,b,L,B,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+nt})}function ai(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(b?" "+b:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return hs(B)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function gr(){}A(gr,Jl),gr.prototype.g=function(){return new XMLHttpRequest},_o=new gr;function Vi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function oi(u,m,v){u.M=1,u.A=pr(be(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),sa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new qn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(go[0]=L.toString()),L=go);for(let B=0;B<L.length;B++){const nt=Lt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Fn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||wt!=4||me==7||(me==8||Ht<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),wn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=ru(this,v),re==Ve){wt==4&&(this.m=4,ve(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(re==Ee){this.m=4,ve(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,re,null),ci(this,re);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(nt),nt.P=!0,ve(11))}}else ai(this.i,this.l,v,null),ci(this,v);wt==4&&mn(this),this.o&&!this.K&&(wt==4?mu(this.j,this):(this.o=!1,li(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),wn(this)}}}catch{}finally{}};function Mh(u){if(!su(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const b=m.length,L=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ve:(v=Number(m.substring(v,b)),isNaN(v)?Ee:(b+=1,b+v>m.length?Ve:(m=m.slice(b,b+v),u.C=b+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function li(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(y(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(ii(),ve(17)),mn(this),this.m=2,wn(this)):ea(this,this.T-u)};function wn(u){u.j.I==0||u.K||mu(u.j,u)}function mn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),vs(v);else break t;Ar(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ua(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const re=Ht[0];if(!(re<=v.K))if(v.K=re,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const In=Ht[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const vi=Ht[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=Ht[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Kn=u.g;if(Kn){const Sr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var B=b.h;B.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(b.G){const ca=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(b.wa=ca,Qt(b.J,b.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=yu(b,b.L?b.ba:null,b.W),nt.L){bo(b.h,nt);var wt=nt,me=b.O;me&&(wt.H=me),wt.D&&(ui(wt),li(wt)),b.g=nt}else fu(b);v.i.length>0&&yi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||_i(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?_i(v,7):Do(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ii(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,fs(this,u.u),this.h=u.h,So(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),fs(this,m[4]),this.h=di(m[5]||"",!0),So(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,ia,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yr(v,v.charAt(0)=="/"?wo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yr(v,lu)),u.join("")},gn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)fs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let nt=0;nt<L.length;){const wt=L[nt++];wt=="."?b&&nt==L.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&nt==L.length&&B.push("")):(B.push(wt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?So(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new gn(u)}function ke(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof ms?(u.i=m,ra(u.i,u.l)):(v||(m=yr(m,ds)),u.i=new ms(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function pr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,ou=/[#\?:]/g,wo=/[#\?]/g,ds=/[#\?@]/g,lu=/#/g;function ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ms.prototype,r.add=function(u,m){an(this),this.i=null,u=gs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){an(u),m=gs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return an(u),m=gs(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Co(u,m){an(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(gs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=gs(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(gs(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Vi(v);v=Co(this,v);for(let B=0;B<v.length;B++){let nt=L;v[B]!==""&&(nt+="="+Vi(v[B])),u.push(nt)}}return this.i=u.join("&")};function cu(u){const m=new ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(uu(this,b),sa(this,L,v))},u)),u.j=m}function Hn(u,m){const v=new jn;if(d.Image){const b=new Image;b.onload=T(Rn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Rn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Rn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Rn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Io(u,m){const v=new jn,b=new AbortController,L=setTimeout(()=>{b.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ps(){this.g=new Zl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(mi,Jl),mi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(_r,_e),r=_r.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ys(this):Gn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ys(this))},r.Na=function(u){this.g&&(this.response=u,ys(this))},r.ga=function(){this.g&&ys(this)};function ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return at(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function vr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Cn(v),typeof u=="string"?v!=null&&Vi(v):Qt(u,m,v))}function $t(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,_e);var gi=/^https?$/i,xo=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Er(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of v)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Er(this,B)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),ki(u)}function No(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},r.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let nt=String(u.D).match(au)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!gi.test(nt?nt.toLowerCase():"")}v=b}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Fn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=iu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}ot(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function _s(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_s.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){ve(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=yu(this,null,this.W),yi(this)};function Do(u){if(oa(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),br(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=pr(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}pu(u)}function vs(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function oa(u){vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;zt||S(),kt||(zt(),kt=!0),I.add(m,u),u.D=0}}function la(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),J(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),br(this,v),B&&(this.R?m="headers="+Vi(Cn(B))+"&"+m:this.u&&vr(v,this.u,B)),To(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||Eo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const b=be(u.J);Qt(b,"SID",u.M),Qt(b,"RID",v),Qt(b,"AID",u.K),br(u,b),u.u&&u.o&&vr(b,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),oi(v,b,m)}function br(u,m){u.H&&at(u.H,function(v,b){Qt(m,b,v)}),u.l&&at({},function(v,b){Qt(m,b,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=L[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let Ht=!0;for(let re=0;re<v;re++){var B=L[re].g;const In=L[re].map;if(B-=wt,B<0)wt=Math.max(0,L[re].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var nt=In instanceof Map?In:Object.entries(In);for(const[vi,Qn]of nt){let Kn=Qn;p(Qn)&&(Kn=hs(Qn)),me.push(B+vi+"="+encodeURIComponent(Kn))}}catch(vi){throw me.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{b&&b(In)}}if(Ht){nt=me.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;zt||S(),kt||(zt(),kt=!0),I.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),vs(this),du(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=pr(be(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,vs(this),Ar(this),ve(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){ua(u),Mo(u),u.g=null;var b=2}else if(fi(u.h,m))v=m.G,bo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Wr(),Ne(b,new si(b,v)),yi(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&la(u,m)||b==2&&Ar(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new gn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(b,"https"),pr(b),L?Hn(b.toString(),v):Io(b.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),pu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var b=v instanceof gn?be(v):new gn(v);if(b.g!="")m&&(b.g=m+"."+b.g),fs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new gn(null);b&&ke(B,b),m&&(B.g=m),L&&fs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Qt(b,v,m),Qt(b,"VER",u.ka),br(u,b),b}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new mi({ab:v})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Es(){}Es.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new _s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}A(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Do(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hs(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,en.Z.N.call(this)};function Eu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Eu,Pe);function Tu(){Sn.call(this),this.status=1}A(Tu,Sn);function Li(u){this.g=u}A(Li,vu),Li.prototype.ra=function(){Ne(this.g,"a")},Li.prototype.qa=function(u){Ne(this.g,new Eu(u))},Li.prototype.pa=function(u){Ne(this.g,new Tu)},Li.prototype.oa=function(){Ne(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,TE=function(){return new Es},EE=function(){return Wr()},vE=de,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,kc=mr,yo.COMPLETE="complete",_E=yo,Wl.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,vl=Wl,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,yE=$t}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",v0="4.9.2";let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let oo="12.3.0";const Qr=new Sm("@firebase/firestore");function ja(){return Qr.logLevel}function lt(r,...t){if(Qr.logLevel<=Ot.DEBUG){const i=t.map(km);Qr.debug(`Firestore (${oo}): ${r}`,...i)}}function as(r,...t){if(Qr.logLevel<=Ot.ERROR){const i=t.map(km);Qr.error(`Firestore (${oo}): ${r}`,...i)}}function Za(r,...t){if(Qr.logLevel<=Ot.WARN){const i=t.map(km);Qr.warn(`Firestore (${oo}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,bE(r,a,i)}function bE(r,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw as(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||bE(t,l,a)}function St(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ls{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class w2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new AE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class R2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new R2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=x2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Mt(l,c):Bd(l)?1:-1}return Mt(r.length,t.length)}const N2=55296,D2=57343;function Bd(r){const t=r.charCodeAt(0);return t>=N2&&t<=D2}function Ja(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const T0="__name__";class wi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=wi.isNumericId(t),l=wi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class le extends wi{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ft(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends wi{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return O2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new Fe([T0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ft(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ft(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ft(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ft(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(le.fromString(t))}static fromName(t){return new gt(le.fromString(t).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new le(t.slice()))}}function M2(r,t,i){if(!i)throw new ft(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function V2(r,t,i,a){if(t===!0&&a===!0)throw new ft(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function b0(r){if(!gt.isDocumentKey(r))throw new ft(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function ti(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(r);throw new ft(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!SE(r))throw new ft(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ft(Z.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,S0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*S0);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<A0)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S0}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function k2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new nr(l,gt.empty(),t)}function U2(r){return new nr(r.readTime,r.key,Dl)}class nr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new nr(bt.min(),gt.empty(),Dl)}static max(){return new nr(bt.max(),gt.empty(),Dl)}}function L2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==P2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function j2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Pm=-1;function fh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function B2(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const wE="";function q2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=w0(t)),t=H2(r.get(i),t);return w0(t)}function H2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case wE:i+="";break;default:i+=c}}return i}function w0(r){return r+wE+""}function R0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function lr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function RE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(t){return new C0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class C0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new An([])}unionWith(t){let i=new Me(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const G2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=G2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sr(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const IE="server_timestamp",xE="__type__",NE="__previous_value__",DE="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[xE]?.stringValue===IE}function dh(r){const t=r.mapValue.fields[NE];return zm(t)?dh(t):t}function Ol(r){const t=ir(r.mapValue.fields[DE].timestampValue);return new se(t.seconds,t.nanos)}class F2{constructor(t,i,a,l,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const Zc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const OE="__type__",Q2="__max__",Ic={mapValue:{}},ME="__vector__",Jc="value";function rr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:Y2(r)?9007199254740991:K2(r)?10:11:vt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=rr(r);if(i!==rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ir(l.timestampValue),p=ir(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return sr(l.bytesValue).isEqual(sr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(R0(d)!==R0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Oi(d[_],p[_])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=rr(r),a=rr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),_=ye(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return I0(r.timestampValue,t.timestampValue);case 4:return I0(Ol(r),Ol(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=sr(c),_=sr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Mt(p[y],_[y]);if(T!==0)return T}return Mt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ye(c.latitude),ye(d.latitude));return p!==0?p:Mt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Jc]?.arrayValue,T=_[Jc]?.arrayValue,A=Mt(y?.values?.length||0,T?.values?.length||0);return A!==0?A:x0(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const M=rm(_[A],T[A]);if(M!==0)return M;const H=Wa(p[_[A]],y[T[A]]);if(H!==0)return H}return Mt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function I0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=ir(r),a=ir(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function x0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Wa(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function to(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ir(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Uc(r){switch(rr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return lr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function N0(r){return!!r&&"nullValue"in r}function D0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function K2(r){return(r?.mapValue?.fields||{})[OE]?.stringValue===ME}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return lr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(r.arrayValue.values[i]);return t}return{...r}}function Y2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Q2}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){lr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(wl(this.value))}}function VE(r){const t=[];return lr(r.fields,((i,a)=>{const l=new Fe([i]);if(Lc(a)){const c=VE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,bt.min(),bt.min(),bt.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,bt.min(),bt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,bt.min(),bt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function O0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function M0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function X2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class kE{}class Oe extends kE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Z2(t,i,a):i==="array-contains"?new tR(t,a):i==="in"?new eR(t,a):i==="not-in"?new nR(t,a):i==="array-contains-any"?new iR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new J2(t,a):new W2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends kE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Mi(t,i)}matches(t){return UE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(r){return r.op==="and"}function LE(r){return $2(r)&&UE(r)}function $2(r){for(const t of r.filters)if(t instanceof Mi)return!1;return!0}function lm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+to(r.value);if(LE(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function PE(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Oi(a.value,l.value)})(r,t):r instanceof Mi?(function(a,l){return l instanceof Mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&PE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function zE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"})(r):"Filter"}class Z2 extends Oe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class J2 extends Oe{constructor(t,i){super(t,"in",i),this.keys=jE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class W2 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=jE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function jE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class tR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&Vl(i.arrayValue,this.value)}}class eR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class nR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class iR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class sR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function V0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new sR(r,t,i,a,l,c,d)}function Bm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>to(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>to(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!X2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!PE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!M0(r.startAt,t.startAt)&&M0(r.endAt,t.endAt)}function um(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class mh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rR(r,t,i,a,l,c,d,p){return new mh(r,t,i,a,l,c,d,p)}function gh(r){return new mh(r)}function k0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aR(r){return r.collectionGroup!==null}function Rl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new th(Fe.keyField(),a))}return t.Ie}function Ii(r){const t=St(r);return t.Ee||(t.Ee=oR(t,Rl(r))),t.Ee}function oR(r,t){if(r.limitType==="F")return V0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return V0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function cm(r,t,i){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return qm(Ii(r),Ii(t))&&r.limitType===t.limitType}function BE(r){return`${Bm(Ii(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>zE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${a})`})(Ii(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=O0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,p,_){const y=O0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Rl(a),l))})(r,t)}function lR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qE(r){return(t,i)=>{let a=!1;for(const l of Rl(r)){const c=uR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function uR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Wa(_,y):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class Xr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const cR=new ue(gt.comparator);function os(){return cR}const HE=new ue(gt.comparator);function El(...r){let t=HE;for(const i of r)t=t.insert(i.key,i);return t}function GE(r){let t=HE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Br(){return Cl()}function FE(){return Cl()}function Cl(){return new Xr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hR=new ue(gt.comparator),fR=new Me(gt.comparator);function Vt(...r){let t=fR;for(const i of r)t=t.add(i);return t}const dR=new Me(Mt);function mR(){return dR}function Hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function QE(r){return{integerValue:""+r}}function gR(r,t){return B2(t)?QE(t):Hm(r,t)}class _h{constructor(){this._=void 0}}function pR(r,t,i){return r instanceof eh?(function(l,c){const d={fields:{[xE]:{stringValue:IE},[DE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=dh(c)),c&&(d.fields[NE]=c),{mapValue:d}})(i,t):r instanceof eo?YE(r,t):r instanceof kl?XE(r,t):(function(l,c){const d=KE(l,c),p=U0(d)+U0(l.Ae);return om(d)&&om(l.Ae)?QE(p):Hm(l.serializer,p)})(r,t)}function yR(r,t,i){return r instanceof eo?YE(r,t):r instanceof kl?XE(r,t):i}function KE(r,t){return r instanceof nh?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends _h{}class eo extends _h{constructor(t){super(),this.elements=t}}function YE(r,t){const i=$E(t);for(const a of r.elements)i.some((l=>Oi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends _h{constructor(t){super(),this.elements=t}}function XE(r,t){let i=$E(t);for(const a of r.elements)i=i.filter((l=>!Oi(l,a)));return{arrayValue:{values:i}}}class nh extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function U0(r){return ye(r.integerValue||r.doubleValue)}function $E(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _R{constructor(t,i){this.field=t,this.transform=i}}function vR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof eo&&l instanceof eo||a instanceof kl&&l instanceof kl?Ja(a.elements,l.elements,Oi):a instanceof nh&&l instanceof nh?Oi(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(r.transform,t.transform)}class ER{constructor(t,i){this.version=t,this.transformResults=i}}class ei{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function ZE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Gm(r.key,ei.none()):new Fl(r.key,r.data,ei.none());{const i=r.data,a=dn.empty();let l=new Me(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ur(r.key,a,new An(l.toArray()),ei.none())}}function TR(r,t,i){r instanceof Fl?(function(l,c,d){const p=l.value.clone(),_=P0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ur?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=P0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(JE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(r,t,i,a){return r instanceof Fl?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=c.value.clone(),T=z0(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ur?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const y=z0(c.fieldTransforms,_,d),T=d.data;return T.setAll(JE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function bR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=KE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function L0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>vR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ur extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function P0(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,yR(d,p,i[l]))}return a}function z0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,pR(c,d,t))}return a}class Gm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&TR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=FE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ZE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>L0(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>L0(i,a)))}}class Fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return hR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(t,i,a,l)}}class wR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Pt;function CR(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function WE(r){if(r===void 0)return as("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ce.OK:return Z.OK;case Ce.CANCELLED:return Z.CANCELLED;case Ce.UNKNOWN:return Z.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Z.INTERNAL;case Ce.UNAVAILABLE:return Z.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Z.NOT_FOUND;case Ce.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ce.ABORTED:return Z.ABORTED;case Ce.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ce.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function IR(){return new TextEncoder}const xR=new Ws([4294967295,4294967295],0);function j0(r){const t=IR().encode(r),i=new pE;return i.update(t),new Uint8Array(i.digest())}function B0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ws([i,a],0),new Ws([l,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ws.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ws.fromNumber(a)));return l.compare(xR)===1&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=j0(t),[a,l]=B0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=j0(t),[a,l]=B0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(bt.min(),l,new ue(Mt),os(),Vt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Vt(),Vt(),Vt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class tT{constructor(t,i){this.targetId=t,this.Ce=i}}class eT{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class q0{constructor(){this.ve=0,this.Fe=H0(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=H0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NR{constructor(t){this.Ge=t,this.ze=new Map,this.je=os(),this.Je=xc(),this.He=xc(),this.Ye=new ue(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new gt(c.path);this.et(i,d,Ze.newNoDocument(d,bt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=sr(a).toUint8Array()}catch(_){if(_ instanceof CE)return Za("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Qm(d,l,c)}catch(_){return Za(_ instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,a);return this.je=os(),this.Je=xc(),this.He=xc(),this.Ye=new ue(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new ue(gt.comparator)}function H0(){return new ue(gt.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},OR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MR={and:"AND",or:"OR"};class VR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kR(r,t){return ih(r,t.toTimestamp())}function xi(r){return Ft(!!r,49232),bt.fromTimestamp((function(i){const a=ir(i);return new se(a.seconds,a.nanos)})(r))}function Km(r,t){return fm(r,t).canonicalString()}function fm(r,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function iT(r){const t=le.fromString(r);return Ft(lT(t),10190,{key:t.toString()}),t}function dm(r,t){return Km(r.databaseId,t.path)}function qd(r,t){const i=iT(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(rT(i))}function sT(r,t){return Km(r.databaseId,t)}function UR(r){const t=iT(r);return t.length===4?le.emptyPath():rT(t)}function mm(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function G0(r,t,i){return{name:dm(r,t),fields:i.value.mapValue.fields}}function LR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:WE(y.code);return new ft(T,y.message||"")})(d);i=new eT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):bt.min(),p=new dn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new zc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?xi(a.readTime):bt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new RR(l,c),p=a.targetId;i=new tT(p,d)}}return i}function PR(r,t){let i;if(t instanceof Fl)i={update:G0(r,t.key,t.value)};else if(t instanceof Gm)i={delete:dm(r,t.key)};else if(t instanceof ur)i={update:G0(r,t.key,t.data),updateMask:KR(t.fieldMask)};else{if(!(t instanceof AR))return vt(16599,{Vt:t.type});i={verify:dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function zR(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?xi(l.updateTime):xi(c);return d.isEqual(bt.min())&&(d=xi(c)),new ER(d,l.transformResults||[])})(i,t)))):[]}function jR(r,t){return{documents:[sT(r,t.path)]}}function BR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sT(r,l);const c=(function(y){if(y.length!==0)return oT(Mi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(M){return{field:qa(M.field),direction:GR(M.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function qR(r){let t=UR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const M=aT(A);return M instanceof Mi&&LE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(et){return new th(Ha(et.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,fh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,H=A.values||[];return new Wc(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,H=A.values||[];return new Wc(H,M)})(i.endAt)),rR(t,l,d,c,p,"F",_,y)}function HR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function aT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>aT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function GR(r){return DR[r]}function FR(r){return OR[r]}function QR(r){return MR[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Fe.fromServerFormat(r.fieldPath)}function oT(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(D0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(N0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(D0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(N0(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:FR(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((l=>oT(l)));return a.length===1?a[0]:{compositeFilter:{op:QR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function KR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function lT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Xs{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YR{constructor(t){this.yt=t}}function XR(r){const t=qR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(t,t.limit,"L"):t}class $R{constructor(){this.Cn=new ZR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(nr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class ZR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uT=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(uT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class no{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}const Q0="LruGarbageCollector",JR=1048576;function K0([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class WR{constructor(t){this.Ir=t,this.buffer=new Me(K0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();K0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Q0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?lt(Q0,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Vr(3e5)}))}}class eC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(hh.ce);const a=new WR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(F0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),ja()<=Ot.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function nC(r,t){return new eC(r,t)}class iC{constructor(){this.changes=new Xr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Il(a.mutation,l,An.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Br();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=El();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Br();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=os();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof ur)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Il(T.mutation,y,T.mutation.getFieldMask(),se.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new sC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new ue(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||An.empty();T=p.applyToLocalView(y,T),a.set(_,T);const A=(l.get(p.batchId)||Vt()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,A=FE();T.forEach((M=>{if(!c.has(M)){const H=ZE(i.get(M),a.get(M));H!==null&&A.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):aR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Br());let p=Dl,_=c;return d.next((y=>X.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((M=>{_=_.insert(T,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((T=>({batchId:p,changes:GE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=El();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(A,M){return new mh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let p=El();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Il(T.mutation,y,An.empty(),se.now()),yh(i,y)&&(p=p.insert(_,y))})),p}))}}class aC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:XR(l.bundledQuery),readTime:xi(l.readTime)}})(i)),X.resolve()}}class oC{constructor(){this.overlays=new ue(gt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Br();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Br(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Br(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Br(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new wR(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class lC{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Ym{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new le([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new le([])),a=new Le(i,t),l=new Le(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new gt(c),0);let p=new Me(Mt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class cC{constructor(t){this.ri=t,this.docs=(function(){return new ue(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=os();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=os();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||L2(U2(T),a)<=0||(l.has(T.key)||yh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new hC(this)}getSize(t){return X.resolve(this.size)}}class hC extends iC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class fC{constructor(t){this.persistence=t,this.si=new Xr((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=no.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new no(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class cT{constructor(t,i){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new lC,this.referenceDelegate=t(this),this.Pi=new fC(this),this.indexManager=new $R,this.remoteDocumentCache=(function(l){return new cC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new YR(i),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new uC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new dC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class dC extends z2{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Ym,this.Vi=null}static mi(t){return new Xm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new Xr((a=>q2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=nC(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(t,i.fromCache,a,l)}}class mC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eA()?8:j2(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ja()<=Ot.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=Ot.DEBUG&&lt("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ja()<=Ot.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):X.resolve())}ys(t,i){if(k0(i))return X.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,cm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return k0(i)||l.isEqual(bt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ja()<=Ot.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.vs(t,d,i,k2(l,Dl)).next((p=>p)))}))}Ds(t,i){let a=new Me(qE(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ja()<=Ot.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,nr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",pC=3e8;class yC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Mt),this.xs=new Xr((c=>Bm(c)),qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function _C(r,t,i,a){return new yC(r,t,i,a)}async function hT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function vC(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const A=y.batch,M=A.keys();let H=X.resolve();return M.forEach((et=>{H=H.next((()=>T.getEntry(_,et))).next((st=>{const tt=y.docVersions.get(et);Ft(tt!==null,48541),st.version.compareTo(tt)<0&&(A.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),T.addEntry(st)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function fT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function EC(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,a)),l=l.insert(A,H),(function(st,tt,mt){return st.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=pC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,H,T)&&p.push(i.Pi.updateTargetData(c,H))}));let _=os(),y=Vt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(TC(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(bt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function TC(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=os();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):lt(Zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function bC(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function AC(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Xs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;lt(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Y0(r,t,i){const a=St(r);let l=bt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const A=St(_),M=A.xs.get(T);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,T)})(a,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Vt()))).next((p=>(SC(a,lR(t),p),{documents:p,Qs:c})))))}function SC(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class X0{constructor(){this.activeTargetIds=mR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.Mo=new X0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new X0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RC{Oo(t){}shutdown(){}}const $0="ConnectivityMonitor";class Z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt($0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt($0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function pm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Hd="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=pm(),p=this.zo(t,i.toUriEncodedString());lt(Hd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),T=so(y);return this.Jo(t,p,_,a,T).then((A=>(lt(Hd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Za(Hd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=CC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class xC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class NC extends IC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=pm();return new Promise(((p,_)=>{const y=new yE;y.setWithCredentials(!0),y.listenOnce(_E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const A=y.getResponseJson();lt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case kc.TIMEOUT:lt(Xe,`RPC '${t}' ${d} timed out`),_(new ft(Z.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const M=y.getStatus();if(lt(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const et=H?.error;if(et&&et.status&&et.message){const st=(function(mt){const Tt=mt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Tt)>=0?Tt:Z.UNKNOWN})(et.status);_(new ft(st,et.message))}else _(new ft(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ft(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);lt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=TE(),p=EE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");lt(Xe,`Creating RPC '${t}' stream ${l}: ${T}`,_);const A=d.createWebChannel(T,_);this.I_(A);let M=!1,H=!1;const et=new xC({Yo:tt=>{H?lt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(lt(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),lt(Xe,`RPC '${t}' stream ${l} sending:`,tt),A.send(tt))},Zo:()=>A.close()}),st=(tt,mt,Tt)=>{tt.listen(mt,(_t=>{try{Tt(_t)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return st(A,vl.EventType.OPEN,(()=>{H||(lt(Xe,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),st(A,vl.EventType.CLOSE,(()=>{H||(H=!0,lt(Xe,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(A))})),st(A,vl.EventType.ERROR,(tt=>{H||(H=!0,Za(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),et.a_(new ft(Z.UNAVAILABLE,"The operation could not be completed")))})),st(A,vl.EventType.MESSAGE,(tt=>{if(!H){const mt=tt.data[0];Ft(!!mt,16349);const Tt=mt,_t=Tt?.error||Tt[0]?.error;if(_t){lt(Xe,`RPC '${t}' stream ${l} received error:`,_t);const qt=_t.status;let zt=(function(S){const C=Ce[S];if(C!==void 0)return WE(C)})(qt),kt=_t.message;zt===void 0&&(zt=Z.INTERNAL,kt="Unknown error status: "+qt+" with message "+_t.message),H=!0,et.a_(new ft(zt,kt)),A.close()}else lt(Xe,`RPC '${t}' stream ${l} received:`,mt),et.u_(mt)}})),st(p,vE.STAT_EVENT,(tt=>{tt.stat===sm.PROXY?lt(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===sm.NOPROXY&&lt(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function Th(r){return new VR(r,!0)}class dT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const J0="PersistentStream";class mT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(as(i.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ft(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(J0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(J0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DC extends mT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?xi(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=um(_)?{documents:jR(c,_)}:{query:BR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=nT(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=HR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class OC extends mT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zR(t.writeResults,t.commitTime),a=xi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>PR(this.serializer,a)))};this.q_(i)}}class MC{}class VC extends MC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,fm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class UC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(lt(Kr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Ra=new kC(a,l)}}async function bh(r){if($r(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function gT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),eg(i)?tg(i):co(i).O_()&&Wm(i,t))}function Jm(r,t){const i=St(r),a=co(i);i.Ia.delete(t),a.O_()&&pT(i,t),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Ra.set("Unknown"))}function Wm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(r).Y_(t)}function pT(r,t){r.Va.Ue(t),co(r).Z_(t)}function tg(r){r.Va=new NR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),co(r).start(),r.Ra.ua()}function eg(r){return $r(r)&&!co(r).x_()&&r.Ia.size>0}function $r(r){return St(r).Ea.size===0}function yT(r){r.Va=void 0}async function LC(r){r.Ra.set("Online")}async function PC(r){r.Ia.forEach(((t,i)=>{Wm(r,t)}))}async function zC(r,t){yT(r),eg(r)?(r.Ra.ha(t),tg(r)):r.Ra.set("Unknown")}async function jC(r,t,i){if(r.Ra.set("Online"),t instanceof eT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){lt(Kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof zc?r.Va.Ze(t):t instanceof tT?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await fT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),pT(c,_);const A=new Xs(T.target,_,y,T.sequenceNumber);Wm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(Kr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!uo(t))throw t;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),i||(i=()=>fT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Kr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)}))}function _T(r,t){return t().catch((i=>rh(r,i,t)))}async function Ah(r){const t=St(r),i=ar(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;BC(t);)try{const l=await bC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,qC(t,l)}catch(l){await rh(t,l)}vT(t)&&ET(t)}function BC(r){return $r(r)&&r.Ta.length<10}function qC(r,t){r.Ta.push(t);const i=ar(r);i.O_()&&i.X_&&i.ea(t.mutations)}function vT(r){return $r(r)&&!ar(r).x_()&&r.Ta.length>0}function ET(r){ar(r).start()}async function HC(r){ar(r).ra()}async function GC(r){const t=ar(r);for(const i of r.Ta)t.ea(i.mutations)}async function FC(r,t,i){const a=r.Ta.shift(),l=Fm.from(a,t,i);await _T(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function QC(r,t){t&&ar(r).X_&&await(async function(a,l){if((function(d){return CR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();ar(a).B_(),await _T(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(r,t),vT(r)&&ET(r)}async function W0(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),lt(Kr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function KC(r,t){const i=St(r);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function co(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new DC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:LC.bind(null,r),t_:PC.bind(null,r),r_:zC.bind(null,r),H_:jC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),eg(r)?tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),yT(r))}))),r.ma}function ar(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new OC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HC.bind(null,r),r_:QC.bind(null,r),ta:GC.bind(null,r),na:FC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Kr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ng(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,t){if(as("AsyncQueue",`${t}: ${r}`),uo(r))return new ft(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=El(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class tv{constructor(){this.ga=new ue(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class io{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Ya.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class YC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XC{constructor(){this.queries=ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=ev(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ft(Z.ABORTED,"Firestore shutting down"))}}function ev(){return new Xr((r=>BE(r)),ph)}async function TT(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new YC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ig(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sg(i)}async function bT(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $C(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&sg(i)}function ZC(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function sg(r){r.Ca.forEach((t=>{t.next()}))}var ym,nv;(nv=ym||(ym={})).Ma="default",nv.Cache="cache";class AT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new io(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class ST{constructor(t){this.key=t}}class wT{constructor(t){this.key=t}}class JC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=qE(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const M=l.get(T),H=yh(this.query,A)?A:null,et=!!M&&this.mutatedKeys.has(M.key),st=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;M&&H?M.data.isEqual(H.data)?et!==st&&(a.track({type:3,doc:H}),tt=!0):this.su(M,H)||(a.track({type:2,doc:H}),tt=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),tt=!0):M&&!H&&(a.track({type:1,doc:M}),tt=!0,(_||y)&&(p=!0)),tt&&(H?(d=d.add(H),c=st?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(H,et){const st=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:tt})}};return st(H)-st(et)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new wT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ST(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class WC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class tI{constructor(t){this.key=t,this.hu=!1}}class eI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((p=>BE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new ue(gt.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nI(r,t,i=!0){const a=DT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await RT(a,t,i,!0),l}async function iI(r,t){const i=DT(r);await RT(i,t,!0,!1)}async function RT(r,t,i,a){const l=await AC(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await sI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&gT(r.remoteStore,l),p}async function sI(r,t,i,a,l){r.pu=(A,M,H)=>(async function(st,tt,mt,Tt){let _t=tt.view.ru(mt);_t.Cs&&(_t=await Y0(st.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,_t))));const qt=Tt&&Tt.targetChanges.get(tt.targetId),zt=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(_t,st.isPrimaryClient,qt,zt);return sv(st,tt.targetId,kt.au),kt.snapshot})(r,A,M,H);const c=await Y0(r.localStore,t,!0),d=new JC(t,c.Qs),p=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);sv(r,i,y.au);const T=new WC(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function rI(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(lo)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function aI(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function oI(r,t,i){const a=mI(r);try{const l=await(function(d,p){const _=St(d),y=se.now(),T=p.reduce(((H,et)=>H.add(et.key)),Vt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let et=os(),st=Vt();return _.Ns.getEntries(H,T).next((tt=>{et=tt,et.forEach(((mt,Tt)=>{Tt.isValidDocument()||(st=st.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,et))).next((tt=>{A=tt;const mt=[];for(const Tt of p){const _t=bR(Tt,A.get(Tt.key).overlayedDocument);_t!=null&&mt.push(new ur(Tt.key,_t,VE(_t.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,mt,p)})).next((tt=>{M=tt;const mt=tt.applyToLocalDocumentSet(A,st);return _.documentOverlayCache.saveOverlays(H,tt.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:GE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Mt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=ig(l,"Failed to persist write");i.reject(c)}}async function CT(r,t){const i=St(r);try{const a=await EC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await lo(a)}}function iv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=St(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,A)=>{for(const M of A.Sa)M.va(p)&&(y=!0)})),y&&sg(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lI(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(gt.comparator);d=d.insert(c,Ze.newNoDocument(c,bt.min()));const p=Vt().add(c),_=new Eh(bt.min(),new Map,new ue(Mt),d,p);await CT(a,_),a.du=a.du.remove(c),a.Au.delete(t),ag(a)}else await gm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(lo)}async function uI(r,t){const i=St(r),a=t.batch.batchId;try{const l=await vC(i.localStore,t);xT(i,a,null),IT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await lo(l)}}async function cI(r,t,i){const a=St(r);try{const l=await(function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(Ft(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);xT(a,t,i),IT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await lo(l)}}function IT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function xT(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||NT(r,a)}))}function NT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ag(r))}function sv(r,t,i){for(const a of i)a instanceof ST?(r.Ru.addReference(a.key,t),hI(r,a)):a instanceof wT?(lt(rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||NT(r,a.key)):vt(19791,{wu:a})}function hI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(rg,"New document in limbo: "+i),r.Eu.add(a),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(le.fromString(t)),a=r.fu.next();r.Au.set(a,new tI(i)),r.du=r.du.insert(i,a),gT(r.remoteStore,new Xs(Ii(gh(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Yl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=$m.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const T=St(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(M=>X.forEach(M.Es,(H=>T.persistence.referenceDelegate.addReference(A,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>T.persistence.referenceDelegate.removeReference(A,M.targetId,H)))))))))}catch(A){if(!uo(A))throw A;lt(Zm,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const H=T.Ms.get(M),et=H.snapshotVersion,st=H.withLastLimboFreeSnapshotVersion(et);T.Ms=T.Ms.insert(M,st)}}})(a.localStore,c))}async function fI(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){lt(rg,"User change. New user:",t.toKey());const a=await hT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ft(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function dI(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function DT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lI.bind(null,t),t.Pu.H_=$C.bind(null,t.eventManager),t.Pu.yu=ZC.bind(null,t.eventManager),t}function mI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _C(this.persistence,new gC,t.initialUser,this.serializer)}Cu(t){return new cT(Xm.mi,this.serializer)}Du(t){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class gI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new cT((a=>sh.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XC})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new NC(c)})(t.databaseInfo);return(function(c,d,p,_){return new VC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new UC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>iv(this.syncEngine,i,0)),(function(){return Z0.v()?new Z0:new RC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const A=new eI(l,c,d,p,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);lt(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class OT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):as("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const or="FirestoreClient";class pI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(or,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await hT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function rv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yI(r);lt(or,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>W0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>W0(t.remoteStore,l))),r._onlineComponents=t}async function yI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(or,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new ah)}}else lt(or,"Using default OfflineComponentProvider"),await Fd(r,new gI(void 0));return r._offlineComponents}async function MT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(or,"Using user provided OnlineComponentProvider"),await rv(r,r._uninitializedComponentsProvider._online)):(lt(or,"Using default OnlineComponentProvider"),await rv(r,new vm))),r._onlineComponents}function _I(r){return MT(r).then((t=>t.syncEngine))}async function Em(r){const t=await MT(r),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=rI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}function vI(r,t,i={}){const a=new tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new OT({next:M=>{T.Nu(),d.enqueueAndForget((()=>bT(c,A)));const H=M.docs.has(p);!H&&M.fromCache?y.reject(new ft(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&_&&_.source==="server"?y.reject(new ft(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new AT(gh(p.path),T,{includeMetadataChanges:!0,qa:!0});return TT(c,A)})(await Em(r),r.asyncQueue,t,i,a))),a.promise}function VT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const av=new Map;const kT="firestore.googleapis.com",ov=!0;class lv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=ov}else this.host=t.host,this.ssl=t.ssl??ov;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<JR)throw new ft(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class og{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A2;switch(a.type){case"firstParty":return new C2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=av.get(i);a&&(lt("ComponentProvider","Removing Datastore"),av.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(r,t,i,a={}){r=ti(r,og);const l=so(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Dv(`https://${p}`),Ov("Firestore",!0)),c.host!==kT&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!er(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=$e.MOCK_USER;else{y=Qb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ft(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(A)}r._authCredentials=new S2(new AE(y,T))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,xe._jsonSchema))return new xe(t,a||null,new gt(le.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ie("string",xe._jsonSchemaVersion),referencePath:Ie("string")};class Ul extends Sh{constructor(t,i,a){super(t,i,gh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new gt(t))}withConverter(t){return new Ul(this.firestore,t,this._path)}}function Zn(r,t,...i){if(r=sn(r),arguments.length===1&&(t=Um.newId()),M2("doc","path",t),r instanceof og){const a=le.fromString(t,...i);return b0(a),new xe(r,null,new gt(a))}{if(!(r instanceof xe||r instanceof Ul))throw new ft(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return b0(a),new xe(r.firestore,r instanceof Ul?r.converter:null,new gt(a))}}const uv="AsyncQueue";class cv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&lt(uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;lt(uv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",hv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ng.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function hv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function fv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Yr extends og{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new cv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cv(t),this._firestoreClient=void 0,await t}}}function TI(r,t){const i=typeof r=="object"?r:Uv(),a=typeof r=="string"?r:Zc,l=Rm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Gb("firestore");c&&EI(l,...c)}return l}function lg(r){if(r._terminated)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bI(r),r._firestoreClient}function bI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new F2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Qe.fromBase64String(t))}catch(i){throw new ft(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ie("string",Pn._jsonSchemaVersion),bytes:Ie("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rh{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ie("string",Ni._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new ft(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ie("string",Di._jsonSchemaVersion),vectorValues:Ie("object")};const AI=/^__.*__$/;class SI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ur(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class UT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ur(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function LT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Ch{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ch({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(LT(this.Ac)&&AI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,l=!1){return new Ch({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PT(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new wI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function RI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);cg("Data must be an object, but it was:",d,a);const p=zT(a,d);let _,y;if(c.merge)_=new An(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const M=Tm(t,A,i);if(!d.contains(M))throw new ft(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);BT(T,M)||T.push(M)}_=new An(T),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new SI(new dn(p),_,y)}class Ih extends Rh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}function CI(r,t,i){return new Ch({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ug extends Rh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=CI(this,t,!0),a=this.vc.map((c=>Xl(c,i))),l=new eo(a);return new _R(t.path,l)}isEqual(t){return t instanceof ug&&er(this.vc,t.vc)}}function II(r,t,i,a){const l=r.Cc(1,t,i);cg("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();lr(a,((_,y)=>{const T=hg(t,_,i);y=sn(y);const A=l.yc(T);if(y instanceof Ih)c.push(T);else{const M=Xl(y,A);M!=null&&(c.push(T),d.set(T,M))}}));const p=new An(c);return new UT(d,p,l.fieldTransforms)}function xI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Tm(t,a,i)],_=[l];if(c.length%2!=0)throw new ft(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Tm(t,c[M])),_.push(c[M+1]);const y=[],T=dn.empty();for(let M=p.length-1;M>=0;--M)if(!BT(y,p[M])){const H=p[M];let et=_[M];et=sn(et);const st=d.yc(H);if(et instanceof Ih)y.push(H);else{const tt=Xl(et,st);tt!=null&&(y.push(H),T.set(H,tt))}}const A=new An(y);return new UT(T,A,d.fieldTransforms)}function Xl(r,t){if(jT(r=sn(r)))return cg("Unsupported field value:",t,r),zT(r,t);if(r instanceof Rh)return(function(a,l){if(!LT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Xl(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return gR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:nT(l.serializer,a._byteString)};if(a instanceof xe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,p){return{mapValue:{fields:{[OE]:{stringValue:ME},[Jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Lm(a)}`)})(r,t)}function zT(r,t){const i={};return RE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(r,((a,l)=>{const c=Xl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ni||r instanceof Pn||r instanceof xe||r instanceof Rh||r instanceof Di)}function cg(r,t,i){if(!jT(i)||!SE(i)){const a=Lm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Tm(r,t,i){if((t=sn(t))instanceof wh)return t._internalPath;if(typeof t=="string")return hg(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function hg(r,t,i){if(t.search(NI)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ft(Z.INVALID_ARGUMENT,p+r+_)}function BT(r,t){return r.some((i=>i.isEqual(t)))}class qT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(HT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DI extends qT{data(){return super.data()}}function HT(r,t){return typeof t=="string"?hg(r,t):t instanceof wh?t._internalPath:t._delegate._internalPath}function OI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MI{convertValue(t,i="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return lr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ni(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=ir(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Ft(lT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||as(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function VI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends qT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(HT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ie("string",qr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class jc extends qr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:kI(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function dv(r){r=ti(r,xe);const t=ti(r.firestore,Yr);return vI(lg(t),r._key).then((i=>FT(t,r,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ie("string",Xa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class GT extends MI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function UI(r,t,i){r=ti(r,xe);const a=ti(r.firestore,Yr),l=VI(r.converter,t);return fg(a,[RI(PT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ei.none())])}function Gs(r,t,i,...a){r=ti(r,xe);const l=ti(r.firestore,Yr),c=PT(l);let d;return d=typeof(t=sn(t))=="string"||t instanceof wh?xI(c,"updateDoc",r._key,t,i,a):II(c,"updateDoc",r._key,t),fg(l,[d.toMutation(r._key,ei.exists(!0))])}function LI(r){return fg(ti(r.firestore,Yr),[new Gm(r._key,ei.none())])}function mv(r,...t){r=sn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||fv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof xe)d=ti(r.firestore,Yr),p=gh(r._key.path),c={next:_=>{t[a]&&t[a](FT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=ti(r,Sh);d=ti(_.firestore,Yr),p=_._query;const y=new GT(d);c={next:T=>{t[a]&&t[a](new Xa(d,y,_,T))},error:t[a+1],complete:t[a+2]},OI(r._query)}return(function(y,T,A,M){const H=new OT(M),et=new AT(T,H,A);return y.asyncQueue.enqueueAndForget((async()=>TT(await Em(y),et))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>bT(await Em(y),et)))}})(lg(d),p,l,c)}function fg(r,t){return(function(a,l){const c=new tr;return a.asyncQueue.enqueueAndForget((async()=>oI(await _I(a),l,c))),c.promise})(lg(r),t)}function FT(r,t,i){const a=i.docs.get(t._key),l=new GT(r);return new qr(r,l,t._key,a,new bl(i.hasPendingWrites,i.fromCache),t.converter)}function Qd(...r){return new ug("arrayUnion",r)}(function(t,i=!0){(function(l){oo=l})(ro),$a(new Gr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Yr(new w2(a.getProvider("auth-internal")),new I2(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Js(_0,v0,t),Js(_0,v0,"esm2020")})();const PI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),gv=r=>{const t=zI(r);return t.charAt(0).toUpperCase()+t.slice(1)},QT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),jI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var BI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qI=fe.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>fe.createElement("svg",{ref:_,...BI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:QT("lucide",l),...!c&&!jI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>fe.createElement(y,T)),...Array.isArray(c)?c:[c]]));const Ke=(r,t)=>{const i=fe.forwardRef(({className:a,...l},c)=>fe.createElement(qI,{ref:c,iconNode:t,className:QT(`lucide-${PI(gv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gv(r),i};const HI=[["circle",{cx:"12",cy:"11.9",r:"2",key:"e8h31w"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6",key:"17bolr"}],["path",{d:"m8.9 10.1 1.4.8",key:"15ezny"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5",key:"wtwa5u"}],["path",{d:"m15.1 10.1-1.4.8",key:"1r0b28"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2",key:"m7qszh"}],["path",{d:"M12 13.9v1.6",key:"zfyyim"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0",key:"1bi9q0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5",key:"1rhjqw"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5",key:"8gsud3"}]],Hr=Ke("biohazard",HI);const GI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pv=Ke("book-open",GI);const FI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yv=Ke("circle-check-big",FI);const QI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],KI=Ke("crown",QI);const YI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],XI=Ke("hammer",YI);const $I=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ZI=Ke("history",$I);const JI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],WI=Ke("house",JI);const tx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Bc=Ke("log-out",tx);const ex=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],bm=Ke("pill",ex);const nx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],KT=Ke("rotate-ccw",nx);const ix=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sx=Ke("settings",ix);const rx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],ax=Ke("skull",rx);const ox=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_v=Ke("sparkles",ox);const lx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ux=Ke("trash-2",lx);const cx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],YT=Ke("trophy",cx);const hx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kd=Ke("user",hx);const fx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dx=Ke("x",fx),mx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c023451f7802fb676aa637"},XT=kv(mx),Yd=T2(XT),Jn=TI(XT),Si=typeof __app_id<"u"?__app_id:"angry-virus",gx="21",px=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},_l=(r,t)=>{if(!r||r.length===0)return-t;const i=[...r].sort((l,c)=>l-c);let a=0;for(let l=0;l<i.length;l++)(l===0||i[l]!==i[l-1]+1)&&(a+=i[l]);return a-t},vv=()=>N.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[N.jsx(Hr,{size:12,className:"text-green-500"}),N.jsx("span",{className:"text-[10px] font-black tracking-widest text-green-500 uppercase",children:"ANGRY VIRUS"})]}),Ev=r=>{if(!r||r.length===0)return[];const t=[...r].sort((l,c)=>l-c),i=[];let a=[t[0]];for(let l=1;l<t.length;l++)t[l]===t[l-1]+1?a.push(t[l]):(i.push(a),a=[t[l]]);return i.push(a),i},Xd=()=>N.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-green-900/40 via-gray-950 to-black"}),N.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(15)].map((r,t)=>N.jsx("div",{className:"absolute animate-float text-green-500/20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${15+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:N.jsx(Hr,{size:48})},t))}),N.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(45deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
    `})]}),Tv=({value:r,size:t="md",isNew:i=!1,isSequenceStart:a=!1})=>{const l=t==="lg"?"w-24 h-36 md:w-32 md:h-48 text-3xl md:text-4xl":t==="md"?"w-16 h-24 md:w-20 md:h-28 text-xl md:text-2xl":"w-10 h-14 md:w-12 md:h-16 text-xs md:text-sm";return N.jsxs("div",{className:`${l} bg-gray-200 rounded-xl border-4 ${a?"border-yellow-500 ring-2 ring-yellow-500/50 z-10":"border-green-700"} flex flex-col items-center justify-center shadow-xl relative overflow-hidden transform transition-all ${i?"animate-in zoom-in duration-500":""}`,children:[N.jsx("div",{className:"absolute top-1 left-2 text-green-800 font-black opacity-50 text-[8px] md:text-[10px]",children:"VIRUS"}),N.jsx("div",{className:"font-black text-green-900 z-10",children:r}),N.jsx(Hr,{className:"absolute -bottom-4 -right-4 text-green-800/10 w-3/4 h-3/4"}),N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 to-green-500/10"})]})},bv=({count:r,size:t="md"})=>N.jsxs("div",{className:`flex items-center gap-1 bg-orange-600/90 text-white rounded-full font-bold shadow-lg border border-orange-400 ${t==="lg"?"px-3 py-1.5 md:px-4 md:py-2 text-lg md:text-xl":"px-2 py-1 text-[10px] md:text-xs"}`,children:[N.jsx(bm,{className:t==="lg"?"w-5 h-5 md:w-6 md:h-6":"w-3 h-3",fill:"currentColor"}),N.jsx("span",{children:r})]}),Av=({onClose:r})=>N.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-4",children:N.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden border border-green-500/30 flex flex-col",children:[N.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[N.jsxs("h2",{className:"text-2xl font-black text-green-500 uppercase tracking-widest flex items-center gap-2",children:[N.jsx(Hr,{})," Virus Protocol"]}),N.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400",children:N.jsx(dx,{})})]}),N.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-300",children:[N.jsxs("section",{children:[N.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[N.jsx(ax,{className:"text-red-500",size:20})," Goal: Stay Healthy"]}),N.jsxs("p",{className:"text-sm",children:["Avoid collecting high-value Virus cards. Your score is the sum of your viruses minus your vitamins."," ",N.jsx("strong",{children:"Lowest score wins!"})]})]}),N.jsxs("section",{children:[N.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[N.jsx(KT,{className:"text-blue-400",size:20})," The Choice"]}),N.jsx("p",{className:"text-sm mb-2",children:"On your turn, a Virus card is revealed. You have two options:"}),N.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[N.jsxs("li",{children:[N.jsx("strong",{children:"Pass:"})," Place 1 Vitamin token on the card to skip it. Pass play to the left. (Requires tokens!)"]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Take:"})," Take the card AND all tokens on it. Reveal the next card. It is still your turn."]})]})]}),N.jsxs("section",{children:[N.jsxs("h3",{className:"text-white font-bold text-lg mb-2 flex items-center gap-2",children:[N.jsx(YT,{className:"text-yellow-400",size:20})," The Twist"]}),N.jsxs("p",{className:"text-sm",children:["Collected viruses form chains! If you have consecutive numbers (e.g., 21, 22, 23), ",N.jsx("strong",{children:"only the lowest number counts"})," ","towards your score.",N.jsx("br",{}),N.jsx("span",{className:"text-gray-500 text-xs italic",children:"Example: 21, 22, 23 counts as just 21 points."})]})]})]}),N.jsx("div",{className:"p-4 bg-gray-950 border-t border-gray-800 text-center",children:N.jsx("button",{onClick:r,className:"bg-green-600 hover:bg-green-500 text-white px-8 py-3 rounded-lg font-bold",children:"Understood"})})]})}),Sv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>N.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:N.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[N.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Quarantine?"}),N.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Host, leaving will disband the group and return everyone to the menu.":l?"Leaving now will impact the game for others.":"Leaving the lobby will disconnect you."}),N.jsxs("div",{className:"flex flex-col gap-3",children:[N.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),a&&l&&N.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[N.jsx(WI,{size:18})," Return Crew to Lobby"]}),N.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[N.jsx(Bc,{size:18})," ",a?"Disband Group":"Leave Game"]})]})]})});function yx(){const[r,t]=fe.useState(null),[i,a]=fe.useState("menu"),[l,c]=fe.useState(""),[d,p]=fe.useState(""),[_,y]=fe.useState(""),[T,A]=fe.useState(null),[M,H]=fe.useState(""),[et,st]=fe.useState(!1),[tt,mt]=fe.useState(!1),[Tt,_t]=fe.useState(!1),[qt,zt]=fe.useState(!1),[kt,I]=fe.useState(!1);fe.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await ow(Yd,__initial_auth_token):await nw(Yd)})(),cw(Yd,t)},[]),fe.useEffect(()=>{const $=localStorage.getItem("angryvirus_roomId");$&&p($)},[]),fe.useEffect(()=>{const $=mv(Zn(Jn,"game_hub_settings","config"),at=>{at.exists()&&at.data()[gx]?.maintenance?I(!0):I(!1)});return()=>$()},[]),fe.useEffect(()=>{if(!d||!r)return;const $=mv(Zn(Jn,"artifacts",Si,"public","data","rooms",d),at=>{if(at.exists()){const ot=at.data();if(A(ot),ot.players&&!ot.players.find(x=>x.id===r.uid)){p(""),a("menu"),localStorage.removeItem("angryvirus_roomId"),H("You have been removed from the quarantine zone.");return}ot.status==="playing"||ot.status==="finished"?a("game"):ot.status==="lobby"&&a("lobby")}else p(""),a("menu"),localStorage.removeItem("angryvirus_roomId"),H("Quarantine zone lifted (Room closed).")});return()=>$()},[d,r]);const S=async()=>{if(!l)return H("Name required");st(!0);const $=Math.random().toString(36).substring(2,7).toUpperCase();Array.from({length:33},(at,ot)=>ot+3),await UI(Zn(Jn,"artifacts",Si,"public","data","rooms",$),{roomId:$,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,tokens:0,cards:[],ready:!1}],deck:[],cardsToRemove:5,currentCard:null,tokensOnCard:0,turnIndex:0,logs:[],winnerId:null}),localStorage.setItem("angryvirus_roomId",$),p($),st(!1)},C=async $=>{T.hostId===r.uid&&($<5||$>9||await Gs(Zn(Jn,"artifacts",Si,"public","data","rooms",d),{cardsToRemove:$}))},V=async()=>{if(!_||!l)return H("Code/Name required");st(!0);const $=Zn(Jn,"artifacts",Si,"public","data","rooms",_),at=await dv($);if(!at.exists()){H("Room not found"),st(!1);return}const ot=at.data();if(ot.status!=="lobby"){H("Outbreak already started"),st(!1);return}if(ot.players.length>=7){H("Room full"),st(!1);return}ot.players.find(x=>x.id===r.uid)||await Gs($,{players:Qd({id:r.uid,name:l,tokens:0,cards:[],ready:!1})}),localStorage.setItem("angryvirus_roomId",_),p(_),st(!1)},D=async()=>{if(!(!d||!r)){try{const $=Zn(Jn,"artifacts",Si,"public","data","rooms",d),at=await dv($);if(at.exists()){const ot=at.data();if(ot.hostId===r.uid)await LI($);else{const Q=ot.players.findIndex(W=>W.id===r.uid),J=ot.players.filter(W=>W.id!==r.uid);let it=ot.status,ut=ot.turnIndex;Q<ut&&(ut=Math.max(0,ut-1)),ut>=J.length&&(ut=0),ot.status==="playing"&&J.length<2&&(it="finished"),await Gs($,{players:J,status:it,turnIndex:ut,logs:Qd({text:`${l} abandoned the quarantine.`,type:"danger"})})}}}catch($){console.error("Error leaving room:",$)}localStorage.removeItem("angryvirus_roomId"),p(""),a("menu"),A(null),zt(!1)}},U=async $=>{if(T.hostId!==r.uid)return;const at=T.players.filter(ot=>ot.id!==$);await Gs(Zn(Jn,"artifacts",Si,"public","data","rooms",d),{players:at})},w=async()=>{if(T.hostId!==r.uid)return;const $=T.players.length;if($<2)return;let at=11;$===6&&(at=9),$===7&&(at=7);let ot=px(Array.from({length:33},(ut,W)=>W+3));const x=T.cardsToRemove||5;ot=ot.slice(0,ot.length-x);const Q=ot.pop(),J=T.players.map(ut=>({...ut,tokens:at,cards:[],ready:!1})),it=Math.floor(Math.random()*$);await Gs(Zn(Jn,"artifacts",Si,"public","data","rooms",d),{status:"playing",players:J,deck:ot,currentCard:Q,tokensOnCard:0,turnIndex:it,logs:[{text:`The Outbreak Begins! (${x} cards removed hiddenly)`,type:"neutral"}]})},te=async $=>{const at=[...T.players],ot=T.turnIndex,x=at[ot];let Q=[...T.deck],J=T.currentCard,it=T.tokensOnCard,ut=T.turnIndex,W=[],pt="playing",Xt=null;if($==="PASS"){if(x.tokens<=0)return;x.tokens-=1,it+=1,ut=(ut+1)%at.length,W.push({text:`${x.name} passed (-1 Vitamin).`,type:"neutral"})}else if($==="TAKE")if(x.cards.push(J),x.cards.sort((Lt,We)=>Lt-We),x.tokens+=it,W.push({text:`${x.name} took Virus ${J} and ${it} Vitamins!`,type:"warning"}),Q.length>0)J=Q.pop(),it=0;else{pt="finished",J=null,it=0;const Lt=at.map(We=>({id:We.id,score:_l(We.cards,We.tokens)}));Lt.sort((We,us)=>We.score-us.score),Xt=Lt[0].id,W.push({text:"All viruses contained. Game Over!",type:"success"})}await Gs(Zn(Jn,"artifacts",Si,"public","data","rooms",d),{players:at,deck:Q,currentCard:J,tokensOnCard:it,turnIndex:ut,status:pt,winnerId:Xt,logs:Qd(...W)})},oe=async()=>{if(T.hostId!==r.uid)return;const $=T.players.map(at=>({...at,cards:[],tokens:0,ready:!1}));await Gs(Zn(Jn,"artifacts",Si,"public","data","rooms",d),{status:"lobby",players:$,deck:[],currentCard:null,winnerId:null,logs:[]}),zt(!1)},G=async()=>{T.hostId===r.uid&&await w()},rt=async()=>{if(!d||!r)return;const $=T.players.map(at=>at.id===r.uid?{...at,ready:!at.ready}:at);await Gs(Zn(Jn,"artifacts",Si,"public","data","rooms",d),{players:$})};if(kt)return N.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[N.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[N.jsx(XI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),N.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),N.jsx("p",{className:"text-gray-400",children:"Quarantine in effect. Stay safe until the last traces of virus in eradicated."})]}),N.jsx("div",{className:"h-8"}),N.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:N.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:N.jsx("div",{className:"text-center pb-12 animate-pulse",children:N.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[N.jsx(_v,{size:16})," Visit Gamehub...Try our other releases..."," ",N.jsx(_v,{size:16})]})})})})]});if(i==="menu")return N.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[N.jsx(Xd,{}),N.jsxs("div",{className:"z-10 text-center mb-8 md:mb-10 animate-in fade-in zoom-in duration-700",children:[N.jsx(Hr,{size:64,className:"text-green-500 mx-auto mb-4 animate-spin-slow md:w-20 md:h-20"}),N.jsx("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-br from-green-400 to-lime-600 uppercase tracking-tighter",children:"Angry Virus"}),N.jsx("p",{className:"text-green-400/60 tracking-widest uppercase mt-2 font-bold text-sm md:text-base",children:"Infectious Strategy"})]}),N.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-green-500/30 p-6 md:p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 mx-4",children:[M&&N.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),N.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded-xl mb-4 text-white focus:border-green-500 outline-none text-sm md:text-base",placeholder:"Survivor Name",value:l,onChange:$=>c($.target.value)}),N.jsxs("button",{onClick:S,disabled:et,className:"w-full bg-green-700 hover:bg-green-600 p-3 md:p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 transition-all text-sm md:text-base",children:[N.jsx(Hr,{size:20})," Start Outbreak"]}),N.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-4",children:[N.jsx("input",{className:"flex-1 bg-black/50 border border-gray-600 p-3 rounded-xl text-white focus:border-green-500 outline-none text-sm md:text-base",placeholder:"ROOM CODE",value:_,onChange:$=>y($.target.value.toUpperCase())}),N.jsx("button",{onClick:V,disabled:et,className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded-xl font-bold transition-all text-sm md:text-base",children:"Join"})]}),N.jsxs("button",{onClick:()=>mt(!0),className:"w-full text-center text-gray-400 hover:text-white text-xs md:text-sm flex items-center justify-center gap-2 py-2",children:[N.jsx(pv,{size:14})," Survival Guide"]})]}),tt&&N.jsx(Av,{onClose:()=>mt(!1)})]});if(i==="lobby"&&T){const $=T.hostId===r.uid,at=T.cardsToRemove||5;return N.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 md:p-6 relative",children:[N.jsx(Xd,{}),qt&&N.jsx(Sv,{onConfirmLeave:D,onConfirmLobby:oe,onCancel:()=>zt(!1),isHost:$,inGame:!1}),N.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-6 md:p-8 rounded-2xl border border-green-500/30 shadow-2xl",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-800",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-lg md:text-xl text-green-500 font-bold uppercase",children:"Quarantine Zone"}),N.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:T.roomId})]}),N.jsx("button",{onClick:()=>zt(!0),className:"p-2 bg-red-900/30 text-red-400 rounded-full hover:bg-red-900/50",children:N.jsx(Bc,{size:20})})]}),N.jsxs("div",{className:"space-y-3 mb-8",children:[T.players.map(ot=>N.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-3 rounded-xl border border-gray-700",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-2 rounded-full bg-gray-800",children:N.jsx(Kd,{size:18,className:"text-green-400"})}),N.jsx("span",{className:`font-bold ${ot.id===r.uid?"text-green-400":"text-gray-300"}`,children:ot.name})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[ot.id===T.hostId&&N.jsx(KI,{size:16,className:"text-yellow-500"}),$&&ot.id!==r.uid&&N.jsx("button",{onClick:()=>U(ot.id),className:"text-gray-500 hover:text-red-500 p-1 transition-colors",title:"Kick Player",children:N.jsx(ux,{size:18})})]})]},ot.id)),T.players.length<2&&N.jsx("div",{className:"text-center text-gray-500 py-4 italic text-sm",children:"Waiting for survivors..."})]}),$&&N.jsxs("div",{className:"bg-black/30 p-4 rounded-xl mb-6 border border-gray-700",children:[N.jsxs("h3",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-2",children:[N.jsx(sx,{size:12})," Difficulty: Cards Removed"]}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("span",{className:"text-sm text-gray-400",children:["Randomly remove ",N.jsx("strong",{children:at})," cards"]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>C(at-1),disabled:at<=5,className:"w-8 h-8 flex items-center justify-center bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed font-bold",children:"-"}),N.jsx("button",{onClick:()=>C(at+1),disabled:at>=9,className:"w-8 h-8 flex items-center justify-center bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed font-bold",children:"+"})]})]})]}),$?N.jsx("button",{onClick:w,disabled:T.players.length<2,className:"w-full py-4 rounded-xl font-black text-lg md:text-xl uppercase tracking-widest bg-green-600 hover:bg-green-500 text-white shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Release Virus"}):N.jsx("div",{className:"w-full py-4 rounded-xl font-bold text-center text-gray-500 bg-gray-800/50 border border-gray-700 animate-pulse text-sm md:text-base",children:"Waiting for Host..."})]}),N.jsx(vv,{})]})}if(i==="game"&&T){const $=T.players.find(W=>W.id===r.uid);if(!$||!T.players[T.turnIndex])return N.jsx("div",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center",children:"Loading game state..."});const at=T.players[T.turnIndex].id===r.uid,ot=T.players[T.turnIndex],x=T.hostId===r.uid,Q=Ev($.cards),J=_l($.cards,$.tokens),it=T.logs?T.logs.slice(-2).reverse():[],ut=T.players.filter(W=>W.id!==T.hostId).every(W=>W.ready);return N.jsxs("div",{className:"h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[N.jsx(Xd,{}),qt&&N.jsx(Sv,{onConfirmLeave:D,onConfirmLobby:oe,onCancel:()=>zt(!1),isHost:x,inGame:!0}),N.jsxs("div",{className:"h-14 md:h-16 bg-gray-900/90 border-b border-gray-800 flex items-center justify-between px-4 z-50 sticky top-0 backdrop-blur-md",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(Hr,{className:"text-green-500 w-5 h-5 md:w-6 md:h-6"}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"font-black uppercase leading-none text-sm md:text-base",children:"Angry Virus"}),N.jsxs("span",{className:"text-[10px] text-gray-500 tracking-wider",children:[T.deck.length," Unrevealed"]})]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>mt(!0),className:"p-2 text-gray-400 hover:bg-gray-800 rounded-full",children:N.jsx(pv,{size:18})}),N.jsx("button",{onClick:()=>_t(!Tt),className:`p-2 rounded-full ${Tt?"bg-green-900 text-green-400":"text-gray-400 hover:bg-gray-800"}`,children:N.jsx(ZI,{size:18})}),N.jsx("button",{onClick:()=>zt(!0),className:"p-2 text-red-400 hover:bg-red-900/20 rounded-full",children:N.jsx(Bc,{size:18})})]})]}),tt&&N.jsx(Av,{onClose:()=>mt(!1)}),Tt&&N.jsx("div",{className:"absolute top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-40 overflow-y-auto p-2 shadow-2xl",children:T.logs.slice().reverse().map((W,pt)=>N.jsx("div",{className:`text-xs p-2 mb-1 rounded ${W.type==="warning"?"text-yellow-300 bg-yellow-900/20":W.type==="success"?"text-green-300 bg-green-900/20":"text-gray-400"}`,children:W.text},pt))}),T.status==="finished"&&N.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 flex flex-col items-center justify-center p-6 text-center animate-in zoom-in",children:[N.jsx(YT,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}),N.jsx("h1",{className:"text-5xl font-black text-white mb-2 uppercase",children:"Survival Complete"}),N.jsxs("div",{className:"text-2xl text-gray-300 mb-8",children:["Winner:"," ",N.jsx("span",{className:"text-green-400 font-bold",children:T.players.find(W=>W.id===T.winnerId)?.name})]}),N.jsx("div",{className:"grid grid-cols-1 gap-3 w-full max-w-md max-h-[40vh] overflow-y-auto mb-8",children:[...T.players].sort((W,pt)=>_l(W.cards,W.tokens)-_l(pt.cards,pt.tokens)).map((W,pt)=>N.jsxs("div",{className:`flex justify-between items-center p-4 rounded-xl border ${W.id===T.winnerId?"bg-green-900/30 border-green-500":"bg-gray-800 border-gray-700"}`,children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("span",{className:"font-mono text-gray-500",children:["#",pt+1]}),N.jsx("span",{className:"font-bold",children:W.name}),W.ready&&N.jsx(yv,{size:16,className:"text-green-500"})]}),N.jsxs("div",{className:"font-mono text-xl font-bold",children:[_l(W.cards,W.tokens)," pts"]})]},W.id))}),N.jsx("div",{className:"flex flex-col gap-4 items-center w-full max-w-md",children:x?N.jsxs("div",{className:"flex flex-col w-full gap-3",children:[N.jsxs("div",{className:"flex gap-4 w-full",children:[N.jsxs("button",{onClick:oe,disabled:!ut,className:`flex-1 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${ut?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:[N.jsx(Bc,{size:18})," Lobby"]}),N.jsxs("button",{onClick:G,disabled:!ut,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2 ${ut?"bg-green-600 hover:bg-green-500 hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:[N.jsx(KT,{size:18})," New Game"]})]}),!ut&&N.jsx("p",{className:"text-gray-500 text-sm animate-pulse",children:"Waiting for survivors to confirm status..."})]}):$.ready?N.jsxs("div",{className:"w-full py-3 bg-gray-800 rounded-xl font-bold text-green-400 border border-green-500/50 flex items-center justify-center gap-2",children:[N.jsx(yv,{size:20})," Waiting for host..."]}):N.jsx("button",{onClick:rt,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-white shadow-lg animate-pulse transition-all hover:scale-105",children:"Ready for Next Game"})})]}),N.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-5xl mx-auto p-4 gap-4 overflow-hidden relative",children:[N.jsx("div",{className:"flex-none h-32 flex items-center gap-3 overflow-x-auto no-scrollbar px-2",children:T.players.filter(W=>W.id!==r.uid).map(W=>{const pt=Ev(W.cards);return N.jsxs("div",{className:`flex flex-col items-center justify-start min-w-[120px] p-2 rounded-xl border-2 h-full transition-all ${T.players[T.turnIndex].id===W.id?"border-green-500 bg-green-900/20 scale-105":"border-gray-800 bg-gray-900/50 opacity-70"}`,children:[N.jsxs("div",{className:"flex items-center gap-1 mb-1 w-full justify-center",children:[N.jsx(Kd,{size:14,className:"text-gray-400"}),N.jsx("span",{className:"text-xs font-bold truncate max-w-[80px]",children:W.name})]}),N.jsx("div",{className:"flex gap-1 overflow-x-auto w-full mb-1 no-scrollbar justify-center",children:pt.length>0?pt.map((Xt,Lt)=>N.jsxs("div",{className:"flex flex-col items-center bg-gray-800/80 rounded px-1 border border-gray-600",children:[N.jsx("span",{className:"text-[10px] font-bold text-green-400",children:Xt[0]}),Xt.length>1&&N.jsxs("span",{className:"text-[8px] text-gray-500",children:["+",Xt.length-1]})]},Lt)):N.jsx("div",{className:"text-[10px] text-gray-600",children:"No cards"})}),N.jsx("div",{className:"mt-auto flex gap-2 text-xs",children:N.jsxs("div",{className:"flex items-center gap-0.5 text-orange-400",children:[N.jsx(bm,{size:10})," ",W.tokens]})})]},W.id)})}),N.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6 relative min-h-0",children:[N.jsx("div",{className:"absolute top-0 left-0 right-0 flex flex-col items-center pointer-events-none z-10 space-y-1",children:it.map((W,pt)=>N.jsx("div",{className:`px-4 py-1 rounded-full text-[10px] md:text-xs font-bold shadow-lg backdrop-blur-md animate-in fade-in slide-in-from-top-2 border max-w-[90%] text-center truncate ${W.type==="warning"?"bg-yellow-900/60 border-yellow-500/30 text-yellow-100":W.type==="success"?"bg-green-900/60 border-green-500/30 text-green-100":"bg-gray-800/60 border-gray-600/30 text-gray-200"}`,children:W.text},pt))}),!at&&N.jsxs("div",{className:"mt-8 bg-gray-900/80 px-4 py-2 rounded-full border border-gray-700 text-gray-400 text-sm animate-pulse",children:["Waiting for ",ot.name,"..."]}),N.jsxs("div",{className:`relative group ${at?"mt-8":"mt-0"}`,children:[N.jsx("div",{className:`absolute -inset-4 bg-green-500/20 rounded-full blur-xl ${at?"animate-pulse":"hidden"}`}),T.currentCard!==null?N.jsxs("div",{className:"relative",children:[N.jsx(Tv,{value:T.currentCard,size:"lg",isNew:!0}),T.tokensOnCard>0&&N.jsx("div",{className:"absolute -top-4 -right-4 z-20",children:N.jsx(bv,{count:T.tokensOnCard,size:"lg"})})]}):N.jsx("div",{className:"w-32 h-48 rounded-xl border-2 border-dashed border-gray-700 flex items-center justify-center text-gray-600",children:"Empty"})]}),at&&T.status==="playing"&&N.jsxs("div",{className:"flex gap-4 z-20 mt-4 w-full justify-center px-4",children:[N.jsxs("button",{onClick:()=>te("PASS"),disabled:$.tokens<=0,className:"flex-1 max-w-[140px] flex flex-col items-center gap-1 px-4 py-3 bg-gray-800 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl border border-gray-600 transition-all active:scale-95",children:[N.jsx("span",{className:"font-bold text-gray-300 text-sm md:text-base",children:"PASS"}),N.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-orange-400 font-bold bg-black/40 px-2 py-0.5 rounded-full",children:["Pay 1 ",N.jsx(bm,{size:10})]})]}),N.jsxs("button",{onClick:()=>te("TAKE"),className:"flex-1 max-w-[160px] flex flex-col items-center gap-1 px-4 py-3 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold shadow-lg shadow-green-900/40 hover:scale-105 transition-all active:scale-95",children:[N.jsx("span",{className:"text-sm md:text-base",children:"TAKE IT"}),T.tokensOnCard>0&&N.jsxs("div",{className:"text-[10px] text-green-100 bg-green-700/50 px-2 py-0.5 rounded-full",children:["Gain ",T.tokensOnCard," Tokens"]})]})]})]}),N.jsxs("div",{className:"flex-none bg-gray-900/80 backdrop-blur-md p-4 rounded-t-3xl border-t border-gray-800 shadow-2xl",children:[N.jsxs("div",{className:"flex justify-between items-end mb-4",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-gray-800 p-2 rounded-lg border border-gray-700 hidden md:block",children:N.jsx(Kd,{size:24,className:"text-green-400"})}),N.jsxs("div",{children:[N.jsx("div",{className:"text-xs md:text-sm font-bold text-gray-400",children:"Your Score"}),N.jsx("div",{className:"text-2xl md:text-3xl font-black text-white leading-none",children:J})]})]}),N.jsxs("div",{className:"flex flex-col items-end",children:[N.jsx("div",{className:"text-xs font-bold text-orange-400 uppercase tracking-widest mb-1",children:"Vitamins"}),N.jsx(bv,{count:$.tokens,size:"lg"})]})]}),N.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 no-scrollbar min-h-[80px] md:min-h-[100px]",children:Q.length===0?N.jsx("div",{className:"flex items-center justify-center w-full text-gray-600 text-sm italic",children:"No viruses collected yet..."}):Q.map((W,pt)=>N.jsx("div",{className:"flex gap-1 p-2 bg-black/20 rounded-xl border border-gray-700/50",children:W.map((Xt,Lt)=>N.jsx("div",{className:"transform hover:-translate-y-2 transition-transform",children:N.jsx(Tv,{value:Xt,size:"sm",isSequenceStart:Lt===0})},Lt))},pt))})]})]}),N.jsx(vv,{})]})}return null}kb.createRoot(document.getElementById("root")).render(N.jsx(fe.StrictMode,{children:N.jsx(yx,{})}));
